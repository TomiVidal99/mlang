var au=Object.create;var tr=Object.defineProperty;var cu=Object.getOwnPropertyDescriptor;var uu=Object.getOwnPropertyNames;var lu=Object.getPrototypeOf,du=Object.prototype.hasOwnProperty;var L=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),fu=(t,e)=>{for(var n in e)tr(t,n,{get:e[n],enumerable:!0})},Ds=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of uu(e))!du.call(t,i)&&i!==n&&tr(t,i,{get:()=>e[i],enumerable:!(r=cu(e,i))||r.enumerable});return t};var We=(t,e,n)=>(n=t!=null?au(lu(t)):{},Ds(e||!t||!t.__esModule?tr(n,"default",{value:t,enumerable:!0}):n,t)),hu=t=>Ds(tr({},"__esModule",{value:!0}),t);var nr=L(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.thenable=Ce.typedArray=Ce.stringArray=Ce.array=Ce.func=Ce.error=Ce.number=Ce.string=Ce.boolean=void 0;function gu(t){return t===!0||t===!1}Ce.boolean=gu;function ks(t){return typeof t=="string"||t instanceof String}Ce.string=ks;function pu(t){return typeof t=="number"||t instanceof Number}Ce.number=pu;function mu(t){return t instanceof Error}Ce.error=mu;function Es(t){return typeof t=="function"}Ce.func=Es;function Ns(t){return Array.isArray(t)}Ce.array=Ns;function yu(t){return Ns(t)&&t.every(e=>ks(e))}Ce.stringArray=yu;function vu(t,e){return Array.isArray(t)&&t.every(e)}Ce.typedArray=vu;function Tu(t){return t&&Es(t.then)}Ce.thenable=Tu});var on=L(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.stringArray=He.array=He.func=He.error=He.number=He.string=He.boolean=void 0;function bu(t){return t===!0||t===!1}He.boolean=bu;function Ss(t){return typeof t=="string"||t instanceof String}He.string=Ss;function _u(t){return typeof t=="number"||t instanceof Number}He.number=_u;function Ru(t){return t instanceof Error}He.error=Ru;function Cu(t){return typeof t=="function"}He.func=Cu;function ws(t){return Array.isArray(t)}He.array=ws;function Du(t){return ws(t)&&t.every(e=>Ss(e))}He.stringArray=Du});var Bi=L(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.Message=B.NotificationType9=B.NotificationType8=B.NotificationType7=B.NotificationType6=B.NotificationType5=B.NotificationType4=B.NotificationType3=B.NotificationType2=B.NotificationType1=B.NotificationType0=B.NotificationType=B.RequestType9=B.RequestType8=B.RequestType7=B.RequestType6=B.RequestType5=B.RequestType4=B.RequestType3=B.RequestType2=B.RequestType1=B.RequestType=B.RequestType0=B.AbstractMessageSignature=B.ParameterStructures=B.ResponseError=B.ErrorCodes=void 0;var Bt=on(),Ps;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Ps=B.ErrorCodes||(B.ErrorCodes={}));var Dn=class extends Error{constructor(e,n,r){super(n),this.code=Bt.number(e)?e:Ps.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Dn.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};B.ResponseError=Dn;var Pe=class{constructor(e){this.kind=e}static is(e){return e===Pe.auto||e===Pe.byName||e===Pe.byPosition}toString(){return this.kind}};B.ParameterStructures=Pe;Pe.auto=new Pe("auto");Pe.byPosition=new Pe("byPosition");Pe.byName=new Pe("byName");var pe=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Pe.auto}};B.AbstractMessageSignature=pe;var Ri=class extends pe{constructor(e){super(e,0)}};B.RequestType0=Ri;var Ci=class extends pe{constructor(e,n=Pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};B.RequestType=Ci;var Di=class extends pe{constructor(e,n=Pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};B.RequestType1=Di;var ki=class extends pe{constructor(e){super(e,2)}};B.RequestType2=ki;var Ei=class extends pe{constructor(e){super(e,3)}};B.RequestType3=Ei;var Ni=class extends pe{constructor(e){super(e,4)}};B.RequestType4=Ni;var Si=class extends pe{constructor(e){super(e,5)}};B.RequestType5=Si;var wi=class extends pe{constructor(e){super(e,6)}};B.RequestType6=wi;var Pi=class extends pe{constructor(e){super(e,7)}};B.RequestType7=Pi;var xi=class extends pe{constructor(e){super(e,8)}};B.RequestType8=xi;var Oi=class extends pe{constructor(e){super(e,9)}};B.RequestType9=Oi;var Ii=class extends pe{constructor(e,n=Pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};B.NotificationType=Ii;var qi=class extends pe{constructor(e){super(e,0)}};B.NotificationType0=qi;var Mi=class extends pe{constructor(e,n=Pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};B.NotificationType1=Mi;var Fi=class extends pe{constructor(e){super(e,2)}};B.NotificationType2=Fi;var Ai=class extends pe{constructor(e){super(e,3)}};B.NotificationType3=Ai;var Li=class extends pe{constructor(e){super(e,4)}};B.NotificationType4=Li;var ji=class extends pe{constructor(e){super(e,5)}};B.NotificationType5=ji;var Wi=class extends pe{constructor(e){super(e,6)}};B.NotificationType6=Wi;var Hi=class extends pe{constructor(e){super(e,7)}};B.NotificationType7=Hi;var Ui=class extends pe{constructor(e){super(e,8)}};B.NotificationType8=Ui;var Vi=class extends pe{constructor(e){super(e,9)}};B.NotificationType9=Vi;var ku;(function(t){function e(i){let a=i;return a&&Bt.string(a.method)&&(Bt.string(a.id)||Bt.number(a.id))}t.isRequest=e;function n(i){let a=i;return a&&Bt.string(a.method)&&i.id===void 0}t.isNotification=n;function r(i){let a=i;return a&&(a.result!==void 0||!!a.error)&&(Bt.string(a.id)||Bt.number(a.id)||a.id===null)}t.isResponse=r})(ku=B.Message||(B.Message={}))});var zi=L(Dt=>{"use strict";var xs;Object.defineProperty(Dt,"__esModule",{value:!0});Dt.LRUCache=Dt.LinkedMap=Dt.Touch=void 0;var Ue;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Ue=Dt.Touch||(Dt.Touch={}));var rr=class{constructor(){this[xs]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=Ue.None){let r=this._map.get(e);if(r)return n!==Ue.None&&this.touch(r,n),r.value}set(e,n,r=Ue.None){let i=this._map.get(e);if(i)i.value=n,r!==Ue.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case Ue.None:this.addItemLast(i);break;case Ue.First:this.addItemFirst(i);break;case Ue.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(xs=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Ue.First&&n!==Ue.Last)){if(n===Ue.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Ue.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Dt.LinkedMap=rr;var $i=class extends rr{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Ue.AsNew){return super.get(e,n)}peek(e){return super.get(e,Ue.None)}set(e,n){return super.set(e,n,Ue.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Dt.LRUCache=$i});var Os=L(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.Disposable=void 0;var Eu;(function(t){function e(n){return{dispose:n}}t.create=e})(Eu=kn.Disposable||(kn.Disposable={}))});var Ot=L(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});var Gi;function Ki(){if(Gi===void 0)throw new Error("No runtime abstraction layer installed");return Gi}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Gi=n}t.install=e})(Ki||(Ki={}));Xi.default=Ki});var an=L($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.Emitter=$t.Event=void 0;var Nu=Ot(),Su;(function(t){let e={dispose(){}};t.None=function(){return e}})(Su=$t.Event||($t.Event={}));var Yi=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,a=this._callbacks.length;i<a;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,f=r.length;a<f;a++)try{n.push(r[a].apply(i[a],e))}catch(T){(0,Nu.default)().console.error(T)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},sn=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Yi),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=sn._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};$t.Emitter=sn;sn._noop=function(){}});var or=L(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.CancellationTokenSource=zt.CancellationToken=void 0;var wu=Ot(),Pu=on(),Ji=an(),Qi;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ji.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Ji.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||Pu.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Qi=zt.CancellationToken||(zt.CancellationToken={}));var xu=Object.freeze(function(t,e){let n=(0,wu.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),ir=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?xu:(this._emitter||(this._emitter=new Ji.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Zi=class{get token(){return this._token||(this._token=new ir),this._token}cancel(){this._token?this._token.cancel():this._token=Qi.Cancelled}dispose(){this._token?this._token instanceof ir&&this._token.dispose():this._token=Qi.None}};zt.CancellationTokenSource=Zi});var Is=L(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.SharedArrayReceiverStrategy=cn.SharedArraySenderStrategy=void 0;var Ou=or(),En;(function(t){t.Continue=0,t.Cancelled=1})(En||(En={}));var eo=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=En.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,En.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};cn.SharedArraySenderStrategy=eo;var to=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===En.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},no=class{constructor(e){this.token=new to(e)}cancel(){}dispose(){}},ro=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new Ou.CancellationTokenSource:new no(n)}};cn.SharedArrayReceiverStrategy=ro});var oo=L(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.Semaphore=void 0;var Iu=Ot(),io=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Iu.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};sr.Semaphore=io});var qs=L(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.ReadableStreamMessageReader=kt.AbstractMessageReader=kt.MessageReader=void 0;var ao=Ot(),un=on(),so=an(),qu=oo(),Mu;(function(t){function e(n){let r=n;return r&&un.func(r.listen)&&un.func(r.dispose)&&un.func(r.onError)&&un.func(r.onClose)&&un.func(r.onPartialMessage)}t.is=e})(Mu=kt.MessageReader||(kt.MessageReader={}));var ar=class{constructor(){this.errorEmitter=new so.Emitter,this.closeEmitter=new so.Emitter,this.partialMessageEmitter=new so.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${un.string(e.message)?e.message:"unknown"}`)}};kt.AbstractMessageReader=ar;var co;(function(t){function e(n){let r,i,a,f=new Map,T,l=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(a=n.contentDecoder,f.set(a.name,a)),n.contentDecoders!==void 0)for(let p of n.contentDecoders)f.set(p.name,p);if(n.contentTypeDecoder!==void 0&&(T=n.contentTypeDecoder,l.set(T.name,T)),n.contentTypeDecoders!==void 0)for(let p of n.contentTypeDecoders)l.set(p.name,p)}return T===void 0&&(T=(0,ao.default)().applicationJson.decoder,l.set(T.name,T)),{charset:r,contentDecoder:a,contentDecoders:f,contentTypeDecoder:T,contentTypeDecoders:l}}t.fromOptions=e})(co||(co={}));var uo=class extends ar{constructor(e,n){super(),this.readable=e,this.options=co.fromOptions(n),this.buffer=(0,ao.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new qu.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error("Header must provide a Content-Length property."));return}let a=parseInt(i);if(isNaN(a)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=a}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,ao.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};kt.ReadableStreamMessageReader=uo});var Ls=L(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.WriteableStreamMessageWriter=Et.AbstractMessageWriter=Et.MessageWriter=void 0;var Ms=Ot(),Nn=on(),Fu=oo(),Fs=an(),Au="Content-Length: ",As=`\r
`,Lu;(function(t){function e(n){let r=n;return r&&Nn.func(r.dispose)&&Nn.func(r.onClose)&&Nn.func(r.onError)&&Nn.func(r.write)}t.is=e})(Lu=Et.MessageWriter||(Et.MessageWriter={}));var cr=class{constructor(){this.errorEmitter=new Fs.Emitter,this.closeEmitter=new Fs.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Nn.string(e.message)?e.message:"unknown"}`)}};Et.AbstractMessageWriter=cr;var lo;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,Ms.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,Ms.default)().applicationJson.encoder}}t.fromOptions=e})(lo||(lo={}));var fo=class extends cr{constructor(e,n){super(),this.writable=e,this.options=lo.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Fu.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(Au,r.byteLength.toString(),As),i.push(As),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Et.WriteableStreamMessageWriter=fo});var js=L(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.AbstractMessageBuffer=void 0;var ju=13,Wu=10,Hu=`\r
`,ho=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,a=0;e:for(;r<this._chunks.length;){let p=this._chunks[r];i=0;t:for(;i<p.length;){switch(p[i]){case ju:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case Wu:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}a+=p.byteLength,r++}if(n!==4)return;let f=this._read(a+i),T=new Map,l=this.toString(f,"ascii").split(Hu);if(l.length<2)return T;for(let p=0;p<l.length-2;p++){let y=l[p],C=y.indexOf(":");if(C===-1)throw new Error("Message header must separate key and value using :");let R=y.substr(0,C),k=y.substr(C+1).trim();T.set(e?R.toLowerCase():R,k)}return T}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(a)}if(this._chunks[0].byteLength>e){let a=this._chunks[0],f=this.asNative(a,e);return this._chunks[0]=a.slice(e),this._totalLength-=e,f}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let a=this._chunks[i];if(a.byteLength>e){let f=a.slice(0,e);n.set(f,r),r+=e,this._chunks[i]=a.slice(e),this._totalLength-=e,e-=e}else n.set(a,r),r+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,e-=a.byteLength}return n}};ur.AbstractMessageBuffer=ho});var zs=L(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.createMessageConnection=V.ConnectionOptions=V.MessageStrategy=V.CancellationStrategy=V.CancellationSenderStrategy=V.CancellationReceiverStrategy=V.RequestCancellationReceiverStrategy=V.IdCancellationReceiverStrategy=V.ConnectionStrategy=V.ConnectionError=V.ConnectionErrors=V.LogTraceNotification=V.SetTraceNotification=V.TraceFormat=V.TraceValues=V.Trace=V.NullLogger=V.ProgressType=V.ProgressToken=void 0;var Ws=Ot(),ve=on(),z=Bi(),Hs=zi(),Sn=an(),go=or(),Pn;(function(t){t.type=new z.NotificationType("$/cancelRequest")})(Pn||(Pn={}));var Us;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(Us=V.ProgressToken||(V.ProgressToken={}));var wn;(function(t){t.type=new z.NotificationType("$/progress")})(wn||(wn={}));var po=class{constructor(){}};V.ProgressType=po;var mo;(function(t){function e(n){return ve.func(n)}t.is=e})(mo||(mo={}));V.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ue;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(ue=V.Trace||(V.Trace={}));var Uu;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(Uu=V.TraceValues||(V.TraceValues={}));(function(t){function e(r){if(!ve.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(ue=V.Trace||(V.Trace={}));var nt;(function(t){t.Text="text",t.JSON="json"})(nt=V.TraceFormat||(V.TraceFormat={}));(function(t){function e(n){return ve.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(nt=V.TraceFormat||(V.TraceFormat={}));var Vs;(function(t){t.type=new z.NotificationType("$/setTrace")})(Vs=V.SetTraceNotification||(V.SetTraceNotification={}));var yo;(function(t){t.type=new z.NotificationType("$/logTrace")})(yo=V.LogTraceNotification||(V.LogTraceNotification={}));var lr;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(lr=V.ConnectionErrors||(V.ConnectionErrors={}));var It=class extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,It.prototype)}};V.ConnectionError=It;var Bs;(function(t){function e(n){let r=n;return r&&ve.func(r.cancelUndispatched)}t.is=e})(Bs=V.ConnectionStrategy||(V.ConnectionStrategy={}));var bo;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&ve.func(r.createCancellationTokenSource)&&(r.dispose===void 0||ve.func(r.dispose))}t.is=e})(bo=V.IdCancellationReceiverStrategy||(V.IdCancellationReceiverStrategy={}));var $s;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&ve.func(r.createCancellationTokenSource)&&(r.dispose===void 0||ve.func(r.dispose))}t.is=e})($s=V.RequestCancellationReceiverStrategy||(V.RequestCancellationReceiverStrategy={}));var vo;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new go.CancellationTokenSource}});function e(n){return bo.is(n)||$s.is(n)}t.is=e})(vo=V.CancellationReceiverStrategy||(V.CancellationReceiverStrategy={}));var To;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(Pn.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&ve.func(r.sendCancellation)&&ve.func(r.cleanup)}t.is=e})(To=V.CancellationSenderStrategy||(V.CancellationSenderStrategy={}));var _o;(function(t){t.Message=Object.freeze({receiver:vo.Message,sender:To.Message});function e(n){let r=n;return r&&vo.is(r.receiver)&&To.is(r.sender)}t.is=e})(_o=V.CancellationStrategy||(V.CancellationStrategy={}));var Ro;(function(t){function e(n){let r=n;return r&&ve.func(r.handleMessage)}t.is=e})(Ro=V.MessageStrategy||(V.MessageStrategy={}));var Vu;(function(t){function e(n){let r=n;return r&&(_o.is(r.cancellationStrategy)||Bs.is(r.connectionStrategy)||Ro.is(r.messageStrategy))}t.is=e})(Vu=V.ConnectionOptions||(V.ConnectionOptions={}));var rt;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(rt||(rt={}));function Bu(t,e,n,r){let i=n!==void 0?n:V.NullLogger,a=0,f=0,T=0,l="2.0",p,y=new Map,C,R=new Map,k=new Map,x,S=new Hs.LinkedMap,j=new Map,M=new Set,b=new Map,m=ue.Off,w=nt.Text,$,Z=rt.New,ae=new Sn.Emitter,xe=new Sn.Emitter,ft=new Sn.Emitter,ht=new Sn.Emitter,gt=new Sn.Emitter,Se=r&&r.cancellationStrategy?r.cancellationStrategy:_o.Message;function O(d){if(d===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+d.toString()}function P(d){return d===null?"res-unknown-"+(++T).toString():"res-"+d.toString()}function F(){return"not-"+(++f).toString()}function W(d,E){z.Message.isRequest(E)?d.set(O(E.id),E):z.Message.isResponse(E)?d.set(P(E.id),E):d.set(F(),E)}function oe(d){}function ne(){return Z===rt.Listening}function G(){return Z===rt.Closed}function Ee(){return Z===rt.Disposed}function we(){(Z===rt.New||Z===rt.Listening)&&(Z=rt.Closed,xe.fire(void 0))}function je(d){ae.fire([d,void 0,void 0])}function wt(d){ae.fire(d)}t.onClose(we),t.onError(je),e.onClose(we),e.onError(wt);function Ze(){x||S.size===0||(x=(0,Ws.default)().timer.setImmediate(()=>{x=void 0,di()}))}function Yn(d){z.Message.isRequest(d)?hi(d):z.Message.isNotification(d)?pi(d):z.Message.isResponse(d)?gi(d):_n(d)}function di(){if(S.size===0)return;let d=S.shift();try{let E=r?.messageStrategy;Ro.is(E)?E.handleMessage(d,Yn):Yn(d)}finally{Ze()}}let fi=d=>{try{if(z.Message.isNotification(d)&&d.method===Pn.type.method){let E=d.params.id,q=O(E),U=S.get(q);if(z.Message.isRequest(U)){let ce=r?.connectionStrategy,me=ce&&ce.cancelUndispatched?ce.cancelUndispatched(U,oe):void 0;if(me&&(me.error!==void 0||me.result!==void 0)){S.delete(q),b.delete(E),me.id=U.id,nn(me,d.method,Date.now()),e.write(me).catch(()=>i.error("Sending response for canceled message failed."));return}}let le=b.get(E);if(le!==void 0){le.cancel(),Rn(d);return}else M.add(E)}W(S,d)}finally{Ze()}};function hi(d){if(Ee())return;function E(Q,fe,se){let Re={jsonrpc:l,id:d.id};Q instanceof z.ResponseError?Re.error=Q.toJson():Re.result=Q===void 0?null:Q,nn(Re,fe,se),e.write(Re).catch(()=>i.error("Sending response failed."))}function q(Q,fe,se){let Re={jsonrpc:l,id:d.id,error:Q.toJson()};nn(Re,fe,se),e.write(Re).catch(()=>i.error("Sending response failed."))}function U(Q,fe,se){Q===void 0&&(Q=null);let Re={jsonrpc:l,id:d.id,result:Q};nn(Re,fe,se),e.write(Re).catch(()=>i.error("Sending response failed."))}vi(d);let le=y.get(d.method),ce,me;le&&(ce=le.type,me=le.handler);let ye=Date.now();if(me||p){let Q=d.id??String(Date.now()),fe=bo.is(Se.receiver)?Se.receiver.createCancellationTokenSource(Q):Se.receiver.createCancellationTokenSource(d);d.id!==null&&M.has(d.id)&&fe.cancel(),d.id!==null&&b.set(Q,fe);try{let se;if(me)if(d.params===void 0){if(ce!==void 0&&ce.numberOfParams!==0){q(new z.ResponseError(z.ErrorCodes.InvalidParams,`Request ${d.method} defines ${ce.numberOfParams} params but received none.`),d.method,ye);return}se=me(fe.token)}else if(Array.isArray(d.params)){if(ce!==void 0&&ce.parameterStructures===z.ParameterStructures.byName){q(new z.ResponseError(z.ErrorCodes.InvalidParams,`Request ${d.method} defines parameters by name but received parameters by position`),d.method,ye);return}se=me(...d.params,fe.token)}else{if(ce!==void 0&&ce.parameterStructures===z.ParameterStructures.byPosition){q(new z.ResponseError(z.ErrorCodes.InvalidParams,`Request ${d.method} defines parameters by position but received parameters by name`),d.method,ye);return}se=me(d.params,fe.token)}else p&&(se=p(d.method,d.params,fe.token));let Re=se;se?Re.then?Re.then(Oe=>{b.delete(Q),E(Oe,d.method,ye)},Oe=>{b.delete(Q),Oe instanceof z.ResponseError?q(Oe,d.method,ye):Oe&&ve.string(Oe.message)?q(new z.ResponseError(z.ErrorCodes.InternalError,`Request ${d.method} failed with message: ${Oe.message}`),d.method,ye):q(new z.ResponseError(z.ErrorCodes.InternalError,`Request ${d.method} failed unexpectedly without providing any details.`),d.method,ye)}):(b.delete(Q),E(se,d.method,ye)):(b.delete(Q),U(se,d.method,ye))}catch(se){b.delete(Q),se instanceof z.ResponseError?E(se,d.method,ye):se&&ve.string(se.message)?q(new z.ResponseError(z.ErrorCodes.InternalError,`Request ${d.method} failed with message: ${se.message}`),d.method,ye):q(new z.ResponseError(z.ErrorCodes.InternalError,`Request ${d.method} failed unexpectedly without providing any details.`),d.method,ye)}}else q(new z.ResponseError(z.ErrorCodes.MethodNotFound,`Unhandled method ${d.method}`),d.method,ye)}function gi(d){if(!Ee())if(d.id===null)d.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(d.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let E=d.id,q=j.get(E);if(Ti(d,q),q!==void 0){j.delete(E);try{if(d.error){let U=d.error;q.reject(new z.ResponseError(U.code,U.message,U.data))}else if(d.result!==void 0)q.resolve(d.result);else throw new Error("Should never happen.")}catch(U){U.message?i.error(`Response handler '${q.method}' failed with message: ${U.message}`):i.error(`Response handler '${q.method}' failed unexpectedly.`)}}}}function pi(d){if(Ee())return;let E,q;if(d.method===Pn.type.method){let U=d.params.id;M.delete(U),Rn(d);return}else{let U=R.get(d.method);U&&(q=U.handler,E=U.type)}if(q||C)try{if(Rn(d),q)if(d.params===void 0)E!==void 0&&E.numberOfParams!==0&&E.parameterStructures!==z.ParameterStructures.byName&&i.error(`Notification ${d.method} defines ${E.numberOfParams} params but received none.`),q();else if(Array.isArray(d.params)){let U=d.params;d.method===wn.type.method&&U.length===2&&Us.is(U[0])?q({token:U[0],value:U[1]}):(E!==void 0&&(E.parameterStructures===z.ParameterStructures.byName&&i.error(`Notification ${d.method} defines parameters by name but received parameters by position`),E.numberOfParams!==d.params.length&&i.error(`Notification ${d.method} defines ${E.numberOfParams} params but received ${U.length} arguments`)),q(...U))}else E!==void 0&&E.parameterStructures===z.ParameterStructures.byPosition&&i.error(`Notification ${d.method} defines parameters by position but received parameters by name`),q(d.params);else C&&C(d.method,d.params)}catch(U){U.message?i.error(`Notification handler '${d.method}' failed with message: ${U.message}`):i.error(`Notification handler '${d.method}' failed unexpectedly.`)}else ft.fire(d)}function _n(d){if(!d){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(d,null,4)}`);let E=d;if(ve.string(E.id)||ve.number(E.id)){let q=E.id,U=j.get(q);U&&U.reject(new Error("The received response has neither a result nor an error property."))}}function pt(d){if(d!=null)switch(m){case ue.Verbose:return JSON.stringify(d,null,4);case ue.Compact:return JSON.stringify(d);default:return}}function mi(d){if(!(m===ue.Off||!$))if(w===nt.Text){let E;(m===ue.Verbose||m===ue.Compact)&&d.params&&(E=`Params: ${pt(d.params)}

`),$.log(`Sending request '${d.method} - (${d.id})'.`,E)}else Pt("send-request",d)}function yi(d){if(!(m===ue.Off||!$))if(w===nt.Text){let E;(m===ue.Verbose||m===ue.Compact)&&(d.params?E=`Params: ${pt(d.params)}

`:E=`No parameters provided.

`),$.log(`Sending notification '${d.method}'.`,E)}else Pt("send-notification",d)}function nn(d,E,q){if(!(m===ue.Off||!$))if(w===nt.Text){let U;(m===ue.Verbose||m===ue.Compact)&&(d.error&&d.error.data?U=`Error data: ${pt(d.error.data)}

`:d.result?U=`Result: ${pt(d.result)}

`:d.error===void 0&&(U=`No result returned.

`)),$.log(`Sending response '${E} - (${d.id})'. Processing request took ${Date.now()-q}ms`,U)}else Pt("send-response",d)}function vi(d){if(!(m===ue.Off||!$))if(w===nt.Text){let E;(m===ue.Verbose||m===ue.Compact)&&d.params&&(E=`Params: ${pt(d.params)}

`),$.log(`Received request '${d.method} - (${d.id})'.`,E)}else Pt("receive-request",d)}function Rn(d){if(!(m===ue.Off||!$||d.method===yo.type.method))if(w===nt.Text){let E;(m===ue.Verbose||m===ue.Compact)&&(d.params?E=`Params: ${pt(d.params)}

`:E=`No parameters provided.

`),$.log(`Received notification '${d.method}'.`,E)}else Pt("receive-notification",d)}function Ti(d,E){if(!(m===ue.Off||!$))if(w===nt.Text){let q;if((m===ue.Verbose||m===ue.Compact)&&(d.error&&d.error.data?q=`Error data: ${pt(d.error.data)}

`:d.result?q=`Result: ${pt(d.result)}

`:d.error===void 0&&(q=`No result returned.

`)),E){let U=d.error?` Request failed: ${d.error.message} (${d.error.code}).`:"";$.log(`Received response '${E.method} - (${d.id})' in ${Date.now()-E.timerStart}ms.${U}`,q)}else $.log(`Received response ${d.id} without active response promise.`,q)}else Pt("receive-response",d)}function Pt(d,E){if(!$||m===ue.Off)return;let q={isLSPMessage:!0,type:d,message:E,timestamp:Date.now()};$.log(q)}function Vt(){if(G())throw new It(lr.Closed,"Connection is closed.");if(Ee())throw new It(lr.Disposed,"Connection is disposed.")}function bi(){if(ne())throw new It(lr.AlreadyListening,"Connection is already listening")}function _i(){if(!ne())throw new Error("Call listen() first.")}function Rt(d){return d===void 0?null:d}function Jn(d){if(d!==null)return d}function Qn(d){return d!=null&&!Array.isArray(d)&&typeof d=="object"}function Cn(d,E){switch(d){case z.ParameterStructures.auto:return Qn(E)?Jn(E):[Rt(E)];case z.ParameterStructures.byName:if(!Qn(E))throw new Error("Received parameters by name but param is not an object literal.");return Jn(E);case z.ParameterStructures.byPosition:return[Rt(E)];default:throw new Error(`Unknown parameter structure ${d.toString()}`)}}function Zn(d,E){let q,U=d.numberOfParams;switch(U){case 0:q=void 0;break;case 1:q=Cn(d.parameterStructures,E[0]);break;default:q=[];for(let le=0;le<E.length&&le<U;le++)q.push(Rt(E[le]));if(E.length<U)for(let le=E.length;le<U;le++)q.push(null);break}return q}let xt={sendNotification:(d,...E)=>{Vt();let q,U;if(ve.string(d)){q=d;let ce=E[0],me=0,ye=z.ParameterStructures.auto;z.ParameterStructures.is(ce)&&(me=1,ye=ce);let Q=E.length,fe=Q-me;switch(fe){case 0:U=void 0;break;case 1:U=Cn(ye,E[me]);break;default:if(ye===z.ParameterStructures.byName)throw new Error(`Received ${fe} parameters for 'by Name' notification parameter structure.`);U=E.slice(me,Q).map(se=>Rt(se));break}}else{let ce=E;q=d.method,U=Zn(d,ce)}let le={jsonrpc:l,method:q,params:U};return yi(le),e.write(le).catch(ce=>{throw i.error("Sending notification failed."),ce})},onNotification:(d,E)=>{Vt();let q;return ve.func(d)?C=d:E&&(ve.string(d)?(q=d,R.set(d,{type:void 0,handler:E})):(q=d.method,R.set(d.method,{type:d,handler:E}))),{dispose:()=>{q!==void 0?R.delete(q):C=void 0}}},onProgress:(d,E,q)=>{if(k.has(E))throw new Error(`Progress handler for token ${E} already registered`);return k.set(E,q),{dispose:()=>{k.delete(E)}}},sendProgress:(d,E,q)=>xt.sendNotification(wn.type,{token:E,value:q}),onUnhandledProgress:ht.event,sendRequest:(d,...E)=>{Vt(),_i();let q,U,le;if(ve.string(d)){q=d;let Q=E[0],fe=E[E.length-1],se=0,Re=z.ParameterStructures.auto;z.ParameterStructures.is(Q)&&(se=1,Re=Q);let Oe=E.length;go.CancellationToken.is(fe)&&(Oe=Oe-1,le=fe);let Ke=Oe-se;switch(Ke){case 0:U=void 0;break;case 1:U=Cn(Re,E[se]);break;default:if(Re===z.ParameterStructures.byName)throw new Error(`Received ${Ke} parameters for 'by Name' request parameter structure.`);U=E.slice(se,Oe).map(v=>Rt(v));break}}else{let Q=E;q=d.method,U=Zn(d,Q);let fe=d.numberOfParams;le=go.CancellationToken.is(Q[fe])?Q[fe]:void 0}let ce=a++,me;le&&(me=le.onCancellationRequested(()=>{let Q=Se.sender.sendCancellation(xt,ce);return Q===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ce}`),Promise.resolve()):Q.catch(()=>{i.log(`Sending cancellation messages for id ${ce} failed`)})}));let ye={jsonrpc:l,id:ce,method:q,params:U};return mi(ye),typeof Se.sender.enableCancellation=="function"&&Se.sender.enableCancellation(ye),new Promise(async(Q,fe)=>{let se=Ke=>{Q(Ke),Se.sender.cleanup(ce),me?.dispose()},Re=Ke=>{fe(Ke),Se.sender.cleanup(ce),me?.dispose()},Oe={method:q,timerStart:Date.now(),resolve:se,reject:Re};try{await e.write(ye),j.set(ce,Oe)}catch(Ke){throw i.error("Sending request failed."),Oe.reject(new z.ResponseError(z.ErrorCodes.MessageWriteError,Ke.message?Ke.message:"Unknown reason")),Ke}})},onRequest:(d,E)=>{Vt();let q=null;return mo.is(d)?(q=void 0,p=d):ve.string(d)?(q=null,E!==void 0&&(q=d,y.set(d,{handler:E,type:void 0}))):E!==void 0&&(q=d.method,y.set(d.method,{type:d,handler:E})),{dispose:()=>{q!==null&&(q!==void 0?y.delete(q):p=void 0)}}},hasPendingResponse:()=>j.size>0,trace:async(d,E,q)=>{let U=!1,le=nt.Text;q!==void 0&&(ve.boolean(q)?U=q:(U=q.sendNotification||!1,le=q.traceFormat||nt.Text)),m=d,w=le,m===ue.Off?$=void 0:$=E,U&&!G()&&!Ee()&&await xt.sendNotification(Vs.type,{value:ue.toString(d)})},onError:ae.event,onClose:xe.event,onUnhandledNotification:ft.event,onDispose:gt.event,end:()=>{e.end()},dispose:()=>{if(Ee())return;Z=rt.Disposed,gt.fire(void 0);let d=new z.ResponseError(z.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let E of j.values())E.reject(d);j=new Map,b=new Map,M=new Set,S=new Hs.LinkedMap,ve.func(e.dispose)&&e.dispose(),ve.func(t.dispose)&&t.dispose()},listen:()=>{Vt(),bi(),Z=rt.Listening,t.listen(fi)},inspect:()=>{(0,Ws.default)().console.log("inspect")}};return xt.onNotification(yo.type,d=>{if(m===ue.Off||!$)return;let E=m===ue.Verbose||m===ue.Compact;$.log(d.message,E?d.verbose:void 0)}),xt.onNotification(wn.type,d=>{let E=k.get(d.token);E?E(d.value):ht.fire(d)}),xt}V.createMessageConnection=Bu});var dr=L(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.ProgressType=D.ProgressToken=D.createMessageConnection=D.NullLogger=D.ConnectionOptions=D.ConnectionStrategy=D.AbstractMessageBuffer=D.WriteableStreamMessageWriter=D.AbstractMessageWriter=D.MessageWriter=D.ReadableStreamMessageReader=D.AbstractMessageReader=D.MessageReader=D.SharedArrayReceiverStrategy=D.SharedArraySenderStrategy=D.CancellationToken=D.CancellationTokenSource=D.Emitter=D.Event=D.Disposable=D.LRUCache=D.Touch=D.LinkedMap=D.ParameterStructures=D.NotificationType9=D.NotificationType8=D.NotificationType7=D.NotificationType6=D.NotificationType5=D.NotificationType4=D.NotificationType3=D.NotificationType2=D.NotificationType1=D.NotificationType0=D.NotificationType=D.ErrorCodes=D.ResponseError=D.RequestType9=D.RequestType8=D.RequestType7=D.RequestType6=D.RequestType5=D.RequestType4=D.RequestType3=D.RequestType2=D.RequestType1=D.RequestType0=D.RequestType=D.Message=D.RAL=void 0;D.MessageStrategy=D.CancellationStrategy=D.CancellationSenderStrategy=D.CancellationReceiverStrategy=D.ConnectionError=D.ConnectionErrors=D.LogTraceNotification=D.SetTraceNotification=D.TraceFormat=D.TraceValues=D.Trace=void 0;var ge=Bi();Object.defineProperty(D,"Message",{enumerable:!0,get:function(){return ge.Message}});Object.defineProperty(D,"RequestType",{enumerable:!0,get:function(){return ge.RequestType}});Object.defineProperty(D,"RequestType0",{enumerable:!0,get:function(){return ge.RequestType0}});Object.defineProperty(D,"RequestType1",{enumerable:!0,get:function(){return ge.RequestType1}});Object.defineProperty(D,"RequestType2",{enumerable:!0,get:function(){return ge.RequestType2}});Object.defineProperty(D,"RequestType3",{enumerable:!0,get:function(){return ge.RequestType3}});Object.defineProperty(D,"RequestType4",{enumerable:!0,get:function(){return ge.RequestType4}});Object.defineProperty(D,"RequestType5",{enumerable:!0,get:function(){return ge.RequestType5}});Object.defineProperty(D,"RequestType6",{enumerable:!0,get:function(){return ge.RequestType6}});Object.defineProperty(D,"RequestType7",{enumerable:!0,get:function(){return ge.RequestType7}});Object.defineProperty(D,"RequestType8",{enumerable:!0,get:function(){return ge.RequestType8}});Object.defineProperty(D,"RequestType9",{enumerable:!0,get:function(){return ge.RequestType9}});Object.defineProperty(D,"ResponseError",{enumerable:!0,get:function(){return ge.ResponseError}});Object.defineProperty(D,"ErrorCodes",{enumerable:!0,get:function(){return ge.ErrorCodes}});Object.defineProperty(D,"NotificationType",{enumerable:!0,get:function(){return ge.NotificationType}});Object.defineProperty(D,"NotificationType0",{enumerable:!0,get:function(){return ge.NotificationType0}});Object.defineProperty(D,"NotificationType1",{enumerable:!0,get:function(){return ge.NotificationType1}});Object.defineProperty(D,"NotificationType2",{enumerable:!0,get:function(){return ge.NotificationType2}});Object.defineProperty(D,"NotificationType3",{enumerable:!0,get:function(){return ge.NotificationType3}});Object.defineProperty(D,"NotificationType4",{enumerable:!0,get:function(){return ge.NotificationType4}});Object.defineProperty(D,"NotificationType5",{enumerable:!0,get:function(){return ge.NotificationType5}});Object.defineProperty(D,"NotificationType6",{enumerable:!0,get:function(){return ge.NotificationType6}});Object.defineProperty(D,"NotificationType7",{enumerable:!0,get:function(){return ge.NotificationType7}});Object.defineProperty(D,"NotificationType8",{enumerable:!0,get:function(){return ge.NotificationType8}});Object.defineProperty(D,"NotificationType9",{enumerable:!0,get:function(){return ge.NotificationType9}});Object.defineProperty(D,"ParameterStructures",{enumerable:!0,get:function(){return ge.ParameterStructures}});var Co=zi();Object.defineProperty(D,"LinkedMap",{enumerable:!0,get:function(){return Co.LinkedMap}});Object.defineProperty(D,"LRUCache",{enumerable:!0,get:function(){return Co.LRUCache}});Object.defineProperty(D,"Touch",{enumerable:!0,get:function(){return Co.Touch}});var $u=Os();Object.defineProperty(D,"Disposable",{enumerable:!0,get:function(){return $u.Disposable}});var Gs=an();Object.defineProperty(D,"Event",{enumerable:!0,get:function(){return Gs.Event}});Object.defineProperty(D,"Emitter",{enumerable:!0,get:function(){return Gs.Emitter}});var Ks=or();Object.defineProperty(D,"CancellationTokenSource",{enumerable:!0,get:function(){return Ks.CancellationTokenSource}});Object.defineProperty(D,"CancellationToken",{enumerable:!0,get:function(){return Ks.CancellationToken}});var Xs=Is();Object.defineProperty(D,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Xs.SharedArraySenderStrategy}});Object.defineProperty(D,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Xs.SharedArrayReceiverStrategy}});var Do=qs();Object.defineProperty(D,"MessageReader",{enumerable:!0,get:function(){return Do.MessageReader}});Object.defineProperty(D,"AbstractMessageReader",{enumerable:!0,get:function(){return Do.AbstractMessageReader}});Object.defineProperty(D,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Do.ReadableStreamMessageReader}});var ko=Ls();Object.defineProperty(D,"MessageWriter",{enumerable:!0,get:function(){return ko.MessageWriter}});Object.defineProperty(D,"AbstractMessageWriter",{enumerable:!0,get:function(){return ko.AbstractMessageWriter}});Object.defineProperty(D,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return ko.WriteableStreamMessageWriter}});var zu=js();Object.defineProperty(D,"AbstractMessageBuffer",{enumerable:!0,get:function(){return zu.AbstractMessageBuffer}});var Ie=zs();Object.defineProperty(D,"ConnectionStrategy",{enumerable:!0,get:function(){return Ie.ConnectionStrategy}});Object.defineProperty(D,"ConnectionOptions",{enumerable:!0,get:function(){return Ie.ConnectionOptions}});Object.defineProperty(D,"NullLogger",{enumerable:!0,get:function(){return Ie.NullLogger}});Object.defineProperty(D,"createMessageConnection",{enumerable:!0,get:function(){return Ie.createMessageConnection}});Object.defineProperty(D,"ProgressToken",{enumerable:!0,get:function(){return Ie.ProgressToken}});Object.defineProperty(D,"ProgressType",{enumerable:!0,get:function(){return Ie.ProgressType}});Object.defineProperty(D,"Trace",{enumerable:!0,get:function(){return Ie.Trace}});Object.defineProperty(D,"TraceValues",{enumerable:!0,get:function(){return Ie.TraceValues}});Object.defineProperty(D,"TraceFormat",{enumerable:!0,get:function(){return Ie.TraceFormat}});Object.defineProperty(D,"SetTraceNotification",{enumerable:!0,get:function(){return Ie.SetTraceNotification}});Object.defineProperty(D,"LogTraceNotification",{enumerable:!0,get:function(){return Ie.LogTraceNotification}});Object.defineProperty(D,"ConnectionErrors",{enumerable:!0,get:function(){return Ie.ConnectionErrors}});Object.defineProperty(D,"ConnectionError",{enumerable:!0,get:function(){return Ie.ConnectionError}});Object.defineProperty(D,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Ie.CancellationReceiverStrategy}});Object.defineProperty(D,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Ie.CancellationSenderStrategy}});Object.defineProperty(D,"CancellationStrategy",{enumerable:!0,get:function(){return Ie.CancellationStrategy}});Object.defineProperty(D,"MessageStrategy",{enumerable:!0,get:function(){return Ie.MessageStrategy}});var Gu=Ot();D.RAL=Gu.default});var Qs=L(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});var Ys=require("util"),Nt=dr(),ln=class extends Nt.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return ln.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new Ys.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};ln.emptyBuffer=Buffer.allocUnsafe(0);var Eo=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Nt.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Nt.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Nt.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Nt.Disposable.create(()=>this.stream.off("data",e))}},No=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Nt.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Nt.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Nt.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let a=f=>{f==null?r():i(f)};typeof e=="string"?this.stream.write(e,n,a):this.stream.write(e,a)})}end(){this.stream.end()}},Js=Object.freeze({messageBuffer:Object.freeze({create:t=>new ln(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Ys.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new Eo(t),asWritableStream:t=>new No(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function So(){return Js}(function(t){function e(){Nt.RAL.install(Js)}t.install=e})(So||(So={}));wo.default=So});var Xt=L(te=>{"use strict";var Ku=te&&te.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Xu=te&&te.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ku(e,t,n)};Object.defineProperty(te,"__esModule",{value:!0});te.createMessageConnection=te.createServerSocketTransport=te.createClientSocketTransport=te.createServerPipeTransport=te.createClientPipeTransport=te.generateRandomPipeName=te.StreamMessageWriter=te.StreamMessageReader=te.SocketMessageWriter=te.SocketMessageReader=te.PortMessageWriter=te.PortMessageReader=te.IPCMessageWriter=te.IPCMessageReader=void 0;var dn=Qs();dn.default.install();var Zs=require("path"),Yu=require("os"),Ju=require("crypto"),gr=require("net"),ze=dr();Xu(dr(),te);var Po=class extends ze.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),ze.Disposable.create(()=>this.process.off("message",e))}};te.IPCMessageReader=Po;var xo=class extends ze.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};te.IPCMessageWriter=xo;var Oo=class extends ze.AbstractMessageReader{constructor(e){super(),this.onData=new ze.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};te.PortMessageReader=Oo;var Io=class extends ze.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};te.PortMessageWriter=Io;var Gt=class extends ze.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,dn.default)().stream.asReadableStream(e),n)}};te.SocketMessageReader=Gt;var Kt=class extends ze.WriteableStreamMessageWriter{constructor(e,n){super((0,dn.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};te.SocketMessageWriter=Kt;var fr=class extends ze.ReadableStreamMessageReader{constructor(e,n){super((0,dn.default)().stream.asReadableStream(e),n)}};te.StreamMessageReader=fr;var hr=class extends ze.WriteableStreamMessageWriter{constructor(e,n){super((0,dn.default)().stream.asWritableStream(e),n)}};te.StreamMessageWriter=hr;var ea=process.env.XDG_RUNTIME_DIR,Qu=new Map([["linux",107],["darwin",103]]);function Zu(){let t=(0,Ju.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;ea?e=Zs.join(ea,`vscode-ipc-${t}.sock`):e=Zs.join(Yu.tmpdir(),`vscode-${t}.sock`);let n=Qu.get(process.platform);return n!==void 0&&e.length>n&&(0,dn.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}te.generateRandomPipeName=Zu;function el(t,e="utf-8"){let n,r=new Promise((i,a)=>{n=i});return new Promise((i,a)=>{let f=(0,gr.createServer)(T=>{f.close(),n([new Gt(T,e),new Kt(T,e)])});f.on("error",a),f.listen(t,()=>{f.removeListener("error",a),i({onConnected:()=>r})})})}te.createClientPipeTransport=el;function tl(t,e="utf-8"){let n=(0,gr.createConnection)(t);return[new Gt(n,e),new Kt(n,e)]}te.createServerPipeTransport=tl;function nl(t,e="utf-8"){let n,r=new Promise((i,a)=>{n=i});return new Promise((i,a)=>{let f=(0,gr.createServer)(T=>{f.close(),n([new Gt(T,e),new Kt(T,e)])});f.on("error",a),f.listen(t,"127.0.0.1",()=>{f.removeListener("error",a),i({onConnected:()=>r})})})}te.createClientSocketTransport=nl;function rl(t,e="utf-8"){let n=(0,gr.createConnection)(t,"127.0.0.1");return[new Gt(n,e),new Kt(n,e)]}te.createServerSocketTransport=rl;function il(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function ol(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function sl(t,e,n,r){n||(n=ze.NullLogger);let i=il(t)?new fr(t):t,a=ol(e)?new hr(e):e;return ze.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,ze.createMessageConnection)(i,a,n,r)}te.createMessageConnection=sl});var qo=L((lg,ta)=>{"use strict";ta.exports=Xt()});var mr=L((na,pr)=>{(function(t){if(typeof pr=="object"&&typeof pr.exports=="object"){var e=t(require,na);e!==void 0&&(pr.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(s){function h(g){return typeof g=="string"}s.is=h})(n=e.DocumentUri||(e.DocumentUri={}));var r;(function(s){function h(g){return typeof g=="string"}s.is=h})(r=e.URI||(e.URI={}));var i;(function(s){s.MIN_VALUE=-2147483648,s.MAX_VALUE=2147483647;function h(g){return typeof g=="number"&&s.MIN_VALUE<=g&&g<=s.MAX_VALUE}s.is=h})(i=e.integer||(e.integer={}));var a;(function(s){s.MIN_VALUE=0,s.MAX_VALUE=2147483647;function h(g){return typeof g=="number"&&s.MIN_VALUE<=g&&g<=s.MAX_VALUE}s.is=h})(a=e.uinteger||(e.uinteger={}));var f;(function(s){function h(u,o){return u===Number.MAX_VALUE&&(u=a.MAX_VALUE),o===Number.MAX_VALUE&&(o=a.MAX_VALUE),{line:u,character:o}}s.create=h;function g(u){var o=u;return v.objectLiteral(o)&&v.uinteger(o.line)&&v.uinteger(o.character)}s.is=g})(f=e.Position||(e.Position={}));var T;(function(s){function h(u,o,_,N){if(v.uinteger(u)&&v.uinteger(o)&&v.uinteger(_)&&v.uinteger(N))return{start:f.create(u,o),end:f.create(_,N)};if(f.is(u)&&f.is(o))return{start:u,end:o};throw new Error("Range#create called with invalid arguments[".concat(u,", ").concat(o,", ").concat(_,", ").concat(N,"]"))}s.create=h;function g(u){var o=u;return v.objectLiteral(o)&&f.is(o.start)&&f.is(o.end)}s.is=g})(T=e.Range||(e.Range={}));var l;(function(s){function h(u,o){return{uri:u,range:o}}s.create=h;function g(u){var o=u;return v.objectLiteral(o)&&T.is(o.range)&&(v.string(o.uri)||v.undefined(o.uri))}s.is=g})(l=e.Location||(e.Location={}));var p;(function(s){function h(u,o,_,N){return{targetUri:u,targetRange:o,targetSelectionRange:_,originSelectionRange:N}}s.create=h;function g(u){var o=u;return v.objectLiteral(o)&&T.is(o.targetRange)&&v.string(o.targetUri)&&T.is(o.targetSelectionRange)&&(T.is(o.originSelectionRange)||v.undefined(o.originSelectionRange))}s.is=g})(p=e.LocationLink||(e.LocationLink={}));var y;(function(s){function h(u,o,_,N){return{red:u,green:o,blue:_,alpha:N}}s.create=h;function g(u){var o=u;return v.objectLiteral(o)&&v.numberRange(o.red,0,1)&&v.numberRange(o.green,0,1)&&v.numberRange(o.blue,0,1)&&v.numberRange(o.alpha,0,1)}s.is=g})(y=e.Color||(e.Color={}));var C;(function(s){function h(u,o){return{range:u,color:o}}s.create=h;function g(u){var o=u;return v.objectLiteral(o)&&T.is(o.range)&&y.is(o.color)}s.is=g})(C=e.ColorInformation||(e.ColorInformation={}));var R;(function(s){function h(u,o,_){return{label:u,textEdit:o,additionalTextEdits:_}}s.create=h;function g(u){var o=u;return v.objectLiteral(o)&&v.string(o.label)&&(v.undefined(o.textEdit)||$.is(o))&&(v.undefined(o.additionalTextEdits)||v.typedArray(o.additionalTextEdits,$.is))}s.is=g})(R=e.ColorPresentation||(e.ColorPresentation={}));var k;(function(s){s.Comment="comment",s.Imports="imports",s.Region="region"})(k=e.FoldingRangeKind||(e.FoldingRangeKind={}));var x;(function(s){function h(u,o,_,N,X,_e){var he={startLine:u,endLine:o};return v.defined(_)&&(he.startCharacter=_),v.defined(N)&&(he.endCharacter=N),v.defined(X)&&(he.kind=X),v.defined(_e)&&(he.collapsedText=_e),he}s.create=h;function g(u){var o=u;return v.objectLiteral(o)&&v.uinteger(o.startLine)&&v.uinteger(o.startLine)&&(v.undefined(o.startCharacter)||v.uinteger(o.startCharacter))&&(v.undefined(o.endCharacter)||v.uinteger(o.endCharacter))&&(v.undefined(o.kind)||v.string(o.kind))}s.is=g})(x=e.FoldingRange||(e.FoldingRange={}));var S;(function(s){function h(u,o){return{location:u,message:o}}s.create=h;function g(u){var o=u;return v.defined(o)&&l.is(o.location)&&v.string(o.message)}s.is=g})(S=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var j;(function(s){s.Error=1,s.Warning=2,s.Information=3,s.Hint=4})(j=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var M;(function(s){s.Unnecessary=1,s.Deprecated=2})(M=e.DiagnosticTag||(e.DiagnosticTag={}));var b;(function(s){function h(g){var u=g;return v.objectLiteral(u)&&v.string(u.href)}s.is=h})(b=e.CodeDescription||(e.CodeDescription={}));var m;(function(s){function h(u,o,_,N,X,_e){var he={range:u,message:o};return v.defined(_)&&(he.severity=_),v.defined(N)&&(he.code=N),v.defined(X)&&(he.source=X),v.defined(_e)&&(he.relatedInformation=_e),he}s.create=h;function g(u){var o,_=u;return v.defined(_)&&T.is(_.range)&&v.string(_.message)&&(v.number(_.severity)||v.undefined(_.severity))&&(v.integer(_.code)||v.string(_.code)||v.undefined(_.code))&&(v.undefined(_.codeDescription)||v.string((o=_.codeDescription)===null||o===void 0?void 0:o.href))&&(v.string(_.source)||v.undefined(_.source))&&(v.undefined(_.relatedInformation)||v.typedArray(_.relatedInformation,S.is))}s.is=g})(m=e.Diagnostic||(e.Diagnostic={}));var w;(function(s){function h(u,o){for(var _=[],N=2;N<arguments.length;N++)_[N-2]=arguments[N];var X={title:u,command:o};return v.defined(_)&&_.length>0&&(X.arguments=_),X}s.create=h;function g(u){var o=u;return v.defined(o)&&v.string(o.title)&&v.string(o.command)}s.is=g})(w=e.Command||(e.Command={}));var $;(function(s){function h(_,N){return{range:_,newText:N}}s.replace=h;function g(_,N){return{range:{start:_,end:_},newText:N}}s.insert=g;function u(_){return{range:_,newText:""}}s.del=u;function o(_){var N=_;return v.objectLiteral(N)&&v.string(N.newText)&&T.is(N.range)}s.is=o})($=e.TextEdit||(e.TextEdit={}));var Z;(function(s){function h(u,o,_){var N={label:u};return o!==void 0&&(N.needsConfirmation=o),_!==void 0&&(N.description=_),N}s.create=h;function g(u){var o=u;return v.objectLiteral(o)&&v.string(o.label)&&(v.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(v.string(o.description)||o.description===void 0)}s.is=g})(Z=e.ChangeAnnotation||(e.ChangeAnnotation={}));var ae;(function(s){function h(g){var u=g;return v.string(u)}s.is=h})(ae=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var xe;(function(s){function h(_,N,X){return{range:_,newText:N,annotationId:X}}s.replace=h;function g(_,N,X){return{range:{start:_,end:_},newText:N,annotationId:X}}s.insert=g;function u(_,N){return{range:_,newText:"",annotationId:N}}s.del=u;function o(_){var N=_;return $.is(N)&&(Z.is(N.annotationId)||ae.is(N.annotationId))}s.is=o})(xe=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var ft;(function(s){function h(u,o){return{textDocument:u,edits:o}}s.create=h;function g(u){var o=u;return v.defined(o)&&G.is(o.textDocument)&&Array.isArray(o.edits)}s.is=g})(ft=e.TextDocumentEdit||(e.TextDocumentEdit={}));var ht;(function(s){function h(u,o,_){var N={kind:"create",uri:u};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(N.options=o),_!==void 0&&(N.annotationId=_),N}s.create=h;function g(u){var o=u;return o&&o.kind==="create"&&v.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||v.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||v.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||ae.is(o.annotationId))}s.is=g})(ht=e.CreateFile||(e.CreateFile={}));var gt;(function(s){function h(u,o,_,N){var X={kind:"rename",oldUri:u,newUri:o};return _!==void 0&&(_.overwrite!==void 0||_.ignoreIfExists!==void 0)&&(X.options=_),N!==void 0&&(X.annotationId=N),X}s.create=h;function g(u){var o=u;return o&&o.kind==="rename"&&v.string(o.oldUri)&&v.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||v.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||v.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||ae.is(o.annotationId))}s.is=g})(gt=e.RenameFile||(e.RenameFile={}));var Se;(function(s){function h(u,o,_){var N={kind:"delete",uri:u};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(N.options=o),_!==void 0&&(N.annotationId=_),N}s.create=h;function g(u){var o=u;return o&&o.kind==="delete"&&v.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||v.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||v.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||ae.is(o.annotationId))}s.is=g})(Se=e.DeleteFile||(e.DeleteFile={}));var O;(function(s){function h(g){var u=g;return u&&(u.changes!==void 0||u.documentChanges!==void 0)&&(u.documentChanges===void 0||u.documentChanges.every(function(o){return v.string(o.kind)?ht.is(o)||gt.is(o)||Se.is(o):ft.is(o)}))}s.is=h})(O=e.WorkspaceEdit||(e.WorkspaceEdit={}));var P=function(){function s(h,g){this.edits=h,this.changeAnnotations=g}return s.prototype.insert=function(h,g,u){var o,_;if(u===void 0?o=$.insert(h,g):ae.is(u)?(_=u,o=xe.insert(h,g,u)):(this.assertChangeAnnotations(this.changeAnnotations),_=this.changeAnnotations.manage(u),o=xe.insert(h,g,_)),this.edits.push(o),_!==void 0)return _},s.prototype.replace=function(h,g,u){var o,_;if(u===void 0?o=$.replace(h,g):ae.is(u)?(_=u,o=xe.replace(h,g,u)):(this.assertChangeAnnotations(this.changeAnnotations),_=this.changeAnnotations.manage(u),o=xe.replace(h,g,_)),this.edits.push(o),_!==void 0)return _},s.prototype.delete=function(h,g){var u,o;if(g===void 0?u=$.del(h):ae.is(g)?(o=g,u=xe.del(h,g)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(g),u=xe.del(h,o)),this.edits.push(u),o!==void 0)return o},s.prototype.add=function(h){this.edits.push(h)},s.prototype.all=function(){return this.edits},s.prototype.clear=function(){this.edits.splice(0,this.edits.length)},s.prototype.assertChangeAnnotations=function(h){if(h===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},s}(),F=function(){function s(h){this._annotations=h===void 0?Object.create(null):h,this._counter=0,this._size=0}return s.prototype.all=function(){return this._annotations},Object.defineProperty(s.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),s.prototype.manage=function(h,g){var u;if(ae.is(h)?u=h:(u=this.nextId(),g=h),this._annotations[u]!==void 0)throw new Error("Id ".concat(u," is already in use."));if(g===void 0)throw new Error("No annotation provided for id ".concat(u));return this._annotations[u]=g,this._size++,u},s.prototype.nextId=function(){return this._counter++,this._counter.toString()},s}(),W=function(){function s(h){var g=this;this._textEditChanges=Object.create(null),h!==void 0?(this._workspaceEdit=h,h.documentChanges?(this._changeAnnotations=new F(h.changeAnnotations),h.changeAnnotations=this._changeAnnotations.all(),h.documentChanges.forEach(function(u){if(ft.is(u)){var o=new P(u.edits,g._changeAnnotations);g._textEditChanges[u.textDocument.uri]=o}})):h.changes&&Object.keys(h.changes).forEach(function(u){var o=new P(h.changes[u]);g._textEditChanges[u]=o})):this._workspaceEdit={}}return Object.defineProperty(s.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),s.prototype.getTextEditChange=function(h){if(G.is(h)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var g={uri:h.uri,version:h.version},u=this._textEditChanges[g.uri];if(!u){var o=[],_={textDocument:g,edits:o};this._workspaceEdit.documentChanges.push(_),u=new P(o,this._changeAnnotations),this._textEditChanges[g.uri]=u}return u}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var u=this._textEditChanges[h];if(!u){var o=[];this._workspaceEdit.changes[h]=o,u=new P(o),this._textEditChanges[h]=u}return u}},s.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new F,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},s.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},s.prototype.createFile=function(h,g,u){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;Z.is(g)||ae.is(g)?o=g:u=g;var _,N;if(o===void 0?_=ht.create(h,u):(N=ae.is(o)?o:this._changeAnnotations.manage(o),_=ht.create(h,u,N)),this._workspaceEdit.documentChanges.push(_),N!==void 0)return N},s.prototype.renameFile=function(h,g,u,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var _;Z.is(u)||ae.is(u)?_=u:o=u;var N,X;if(_===void 0?N=gt.create(h,g,o):(X=ae.is(_)?_:this._changeAnnotations.manage(_),N=gt.create(h,g,o,X)),this._workspaceEdit.documentChanges.push(N),X!==void 0)return X},s.prototype.deleteFile=function(h,g,u){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;Z.is(g)||ae.is(g)?o=g:u=g;var _,N;if(o===void 0?_=Se.create(h,u):(N=ae.is(o)?o:this._changeAnnotations.manage(o),_=Se.create(h,u,N)),this._workspaceEdit.documentChanges.push(_),N!==void 0)return N},s}();e.WorkspaceChange=W;var oe;(function(s){function h(u){return{uri:u}}s.create=h;function g(u){var o=u;return v.defined(o)&&v.string(o.uri)}s.is=g})(oe=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var ne;(function(s){function h(u,o){return{uri:u,version:o}}s.create=h;function g(u){var o=u;return v.defined(o)&&v.string(o.uri)&&v.integer(o.version)}s.is=g})(ne=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var G;(function(s){function h(u,o){return{uri:u,version:o}}s.create=h;function g(u){var o=u;return v.defined(o)&&v.string(o.uri)&&(o.version===null||v.integer(o.version))}s.is=g})(G=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Ee;(function(s){function h(u,o,_,N){return{uri:u,languageId:o,version:_,text:N}}s.create=h;function g(u){var o=u;return v.defined(o)&&v.string(o.uri)&&v.string(o.languageId)&&v.integer(o.version)&&v.string(o.text)}s.is=g})(Ee=e.TextDocumentItem||(e.TextDocumentItem={}));var we;(function(s){s.PlainText="plaintext",s.Markdown="markdown";function h(g){var u=g;return u===s.PlainText||u===s.Markdown}s.is=h})(we=e.MarkupKind||(e.MarkupKind={}));var je;(function(s){function h(g){var u=g;return v.objectLiteral(g)&&we.is(u.kind)&&v.string(u.value)}s.is=h})(je=e.MarkupContent||(e.MarkupContent={}));var wt;(function(s){s.Text=1,s.Method=2,s.Function=3,s.Constructor=4,s.Field=5,s.Variable=6,s.Class=7,s.Interface=8,s.Module=9,s.Property=10,s.Unit=11,s.Value=12,s.Enum=13,s.Keyword=14,s.Snippet=15,s.Color=16,s.File=17,s.Reference=18,s.Folder=19,s.EnumMember=20,s.Constant=21,s.Struct=22,s.Event=23,s.Operator=24,s.TypeParameter=25})(wt=e.CompletionItemKind||(e.CompletionItemKind={}));var Ze;(function(s){s.PlainText=1,s.Snippet=2})(Ze=e.InsertTextFormat||(e.InsertTextFormat={}));var Yn;(function(s){s.Deprecated=1})(Yn=e.CompletionItemTag||(e.CompletionItemTag={}));var di;(function(s){function h(u,o,_){return{newText:u,insert:o,replace:_}}s.create=h;function g(u){var o=u;return o&&v.string(o.newText)&&T.is(o.insert)&&T.is(o.replace)}s.is=g})(di=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var fi;(function(s){s.asIs=1,s.adjustIndentation=2})(fi=e.InsertTextMode||(e.InsertTextMode={}));var hi;(function(s){function h(g){var u=g;return u&&(v.string(u.detail)||u.detail===void 0)&&(v.string(u.description)||u.description===void 0)}s.is=h})(hi=e.CompletionItemLabelDetails||(e.CompletionItemLabelDetails={}));var gi;(function(s){function h(g){return{label:g}}s.create=h})(gi=e.CompletionItem||(e.CompletionItem={}));var pi;(function(s){function h(g,u){return{items:g||[],isIncomplete:!!u}}s.create=h})(pi=e.CompletionList||(e.CompletionList={}));var _n;(function(s){function h(u){return u.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s.fromPlainText=h;function g(u){var o=u;return v.string(o)||v.objectLiteral(o)&&v.string(o.language)&&v.string(o.value)}s.is=g})(_n=e.MarkedString||(e.MarkedString={}));var pt;(function(s){function h(g){var u=g;return!!u&&v.objectLiteral(u)&&(je.is(u.contents)||_n.is(u.contents)||v.typedArray(u.contents,_n.is))&&(g.range===void 0||T.is(g.range))}s.is=h})(pt=e.Hover||(e.Hover={}));var mi;(function(s){function h(g,u){return u?{label:g,documentation:u}:{label:g}}s.create=h})(mi=e.ParameterInformation||(e.ParameterInformation={}));var yi;(function(s){function h(g,u){for(var o=[],_=2;_<arguments.length;_++)o[_-2]=arguments[_];var N={label:g};return v.defined(u)&&(N.documentation=u),v.defined(o)?N.parameters=o:N.parameters=[],N}s.create=h})(yi=e.SignatureInformation||(e.SignatureInformation={}));var nn;(function(s){s.Text=1,s.Read=2,s.Write=3})(nn=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var vi;(function(s){function h(g,u){var o={range:g};return v.number(u)&&(o.kind=u),o}s.create=h})(vi=e.DocumentHighlight||(e.DocumentHighlight={}));var Rn;(function(s){s.File=1,s.Module=2,s.Namespace=3,s.Package=4,s.Class=5,s.Method=6,s.Property=7,s.Field=8,s.Constructor=9,s.Enum=10,s.Interface=11,s.Function=12,s.Variable=13,s.Constant=14,s.String=15,s.Number=16,s.Boolean=17,s.Array=18,s.Object=19,s.Key=20,s.Null=21,s.EnumMember=22,s.Struct=23,s.Event=24,s.Operator=25,s.TypeParameter=26})(Rn=e.SymbolKind||(e.SymbolKind={}));var Ti;(function(s){s.Deprecated=1})(Ti=e.SymbolTag||(e.SymbolTag={}));var Pt;(function(s){function h(g,u,o,_,N){var X={name:g,kind:u,location:{uri:_,range:o}};return N&&(X.containerName=N),X}s.create=h})(Pt=e.SymbolInformation||(e.SymbolInformation={}));var Vt;(function(s){function h(g,u,o,_){return _!==void 0?{name:g,kind:u,location:{uri:o,range:_}}:{name:g,kind:u,location:{uri:o}}}s.create=h})(Vt=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var bi;(function(s){function h(u,o,_,N,X,_e){var he={name:u,detail:o,kind:_,range:N,selectionRange:X};return _e!==void 0&&(he.children=_e),he}s.create=h;function g(u){var o=u;return o&&v.string(o.name)&&v.number(o.kind)&&T.is(o.range)&&T.is(o.selectionRange)&&(o.detail===void 0||v.string(o.detail))&&(o.deprecated===void 0||v.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}s.is=g})(bi=e.DocumentSymbol||(e.DocumentSymbol={}));var _i;(function(s){s.Empty="",s.QuickFix="quickfix",s.Refactor="refactor",s.RefactorExtract="refactor.extract",s.RefactorInline="refactor.inline",s.RefactorRewrite="refactor.rewrite",s.Source="source",s.SourceOrganizeImports="source.organizeImports",s.SourceFixAll="source.fixAll"})(_i=e.CodeActionKind||(e.CodeActionKind={}));var Rt;(function(s){s.Invoked=1,s.Automatic=2})(Rt=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var Jn;(function(s){function h(u,o,_){var N={diagnostics:u};return o!=null&&(N.only=o),_!=null&&(N.triggerKind=_),N}s.create=h;function g(u){var o=u;return v.defined(o)&&v.typedArray(o.diagnostics,m.is)&&(o.only===void 0||v.typedArray(o.only,v.string))&&(o.triggerKind===void 0||o.triggerKind===Rt.Invoked||o.triggerKind===Rt.Automatic)}s.is=g})(Jn=e.CodeActionContext||(e.CodeActionContext={}));var Qn;(function(s){function h(u,o,_){var N={title:u},X=!0;return typeof o=="string"?(X=!1,N.kind=o):w.is(o)?N.command=o:N.edit=o,X&&_!==void 0&&(N.kind=_),N}s.create=h;function g(u){var o=u;return o&&v.string(o.title)&&(o.diagnostics===void 0||v.typedArray(o.diagnostics,m.is))&&(o.kind===void 0||v.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||w.is(o.command))&&(o.isPreferred===void 0||v.boolean(o.isPreferred))&&(o.edit===void 0||O.is(o.edit))}s.is=g})(Qn=e.CodeAction||(e.CodeAction={}));var Cn;(function(s){function h(u,o){var _={range:u};return v.defined(o)&&(_.data=o),_}s.create=h;function g(u){var o=u;return v.defined(o)&&T.is(o.range)&&(v.undefined(o.command)||w.is(o.command))}s.is=g})(Cn=e.CodeLens||(e.CodeLens={}));var Zn;(function(s){function h(u,o){return{tabSize:u,insertSpaces:o}}s.create=h;function g(u){var o=u;return v.defined(o)&&v.uinteger(o.tabSize)&&v.boolean(o.insertSpaces)}s.is=g})(Zn=e.FormattingOptions||(e.FormattingOptions={}));var xt;(function(s){function h(u,o,_){return{range:u,target:o,data:_}}s.create=h;function g(u){var o=u;return v.defined(o)&&T.is(o.range)&&(v.undefined(o.target)||v.string(o.target))}s.is=g})(xt=e.DocumentLink||(e.DocumentLink={}));var d;(function(s){function h(u,o){return{range:u,parent:o}}s.create=h;function g(u){var o=u;return v.objectLiteral(o)&&T.is(o.range)&&(o.parent===void 0||s.is(o.parent))}s.is=g})(d=e.SelectionRange||(e.SelectionRange={}));var E;(function(s){s.namespace="namespace",s.type="type",s.class="class",s.enum="enum",s.interface="interface",s.struct="struct",s.typeParameter="typeParameter",s.parameter="parameter",s.variable="variable",s.property="property",s.enumMember="enumMember",s.event="event",s.function="function",s.method="method",s.macro="macro",s.keyword="keyword",s.modifier="modifier",s.comment="comment",s.string="string",s.number="number",s.regexp="regexp",s.operator="operator",s.decorator="decorator"})(E=e.SemanticTokenTypes||(e.SemanticTokenTypes={}));var q;(function(s){s.declaration="declaration",s.definition="definition",s.readonly="readonly",s.static="static",s.deprecated="deprecated",s.abstract="abstract",s.async="async",s.modification="modification",s.documentation="documentation",s.defaultLibrary="defaultLibrary"})(q=e.SemanticTokenModifiers||(e.SemanticTokenModifiers={}));var U;(function(s){function h(g){var u=g;return v.objectLiteral(u)&&(u.resultId===void 0||typeof u.resultId=="string")&&Array.isArray(u.data)&&(u.data.length===0||typeof u.data[0]=="number")}s.is=h})(U=e.SemanticTokens||(e.SemanticTokens={}));var le;(function(s){function h(u,o){return{range:u,text:o}}s.create=h;function g(u){var o=u;return o!=null&&T.is(o.range)&&v.string(o.text)}s.is=g})(le=e.InlineValueText||(e.InlineValueText={}));var ce;(function(s){function h(u,o,_){return{range:u,variableName:o,caseSensitiveLookup:_}}s.create=h;function g(u){var o=u;return o!=null&&T.is(o.range)&&v.boolean(o.caseSensitiveLookup)&&(v.string(o.variableName)||o.variableName===void 0)}s.is=g})(ce=e.InlineValueVariableLookup||(e.InlineValueVariableLookup={}));var me;(function(s){function h(u,o){return{range:u,expression:o}}s.create=h;function g(u){var o=u;return o!=null&&T.is(o.range)&&(v.string(o.expression)||o.expression===void 0)}s.is=g})(me=e.InlineValueEvaluatableExpression||(e.InlineValueEvaluatableExpression={}));var ye;(function(s){function h(u,o){return{frameId:u,stoppedLocation:o}}s.create=h;function g(u){var o=u;return v.defined(o)&&T.is(u.stoppedLocation)}s.is=g})(ye=e.InlineValueContext||(e.InlineValueContext={}));var Q;(function(s){s.Type=1,s.Parameter=2;function h(g){return g===1||g===2}s.is=h})(Q=e.InlayHintKind||(e.InlayHintKind={}));var fe;(function(s){function h(u){return{value:u}}s.create=h;function g(u){var o=u;return v.objectLiteral(o)&&(o.tooltip===void 0||v.string(o.tooltip)||je.is(o.tooltip))&&(o.location===void 0||l.is(o.location))&&(o.command===void 0||w.is(o.command))}s.is=g})(fe=e.InlayHintLabelPart||(e.InlayHintLabelPart={}));var se;(function(s){function h(u,o,_){var N={position:u,label:o};return _!==void 0&&(N.kind=_),N}s.create=h;function g(u){var o=u;return v.objectLiteral(o)&&f.is(o.position)&&(v.string(o.label)||v.typedArray(o.label,fe.is))&&(o.kind===void 0||Q.is(o.kind))&&o.textEdits===void 0||v.typedArray(o.textEdits,$.is)&&(o.tooltip===void 0||v.string(o.tooltip)||je.is(o.tooltip))&&(o.paddingLeft===void 0||v.boolean(o.paddingLeft))&&(o.paddingRight===void 0||v.boolean(o.paddingRight))}s.is=g})(se=e.InlayHint||(e.InlayHint={}));var Re;(function(s){function h(g){var u=g;return v.objectLiteral(u)&&r.is(u.uri)&&v.string(u.name)}s.is=h})(Re=e.WorkspaceFolder||(e.WorkspaceFolder={})),e.EOL=[`
`,`\r
`,"\r"];var Oe;(function(s){function h(_,N,X,_e){return new Ke(_,N,X,_e)}s.create=h;function g(_){var N=_;return!!(v.defined(N)&&v.string(N.uri)&&(v.undefined(N.languageId)||v.string(N.languageId))&&v.uinteger(N.lineCount)&&v.func(N.getText)&&v.func(N.positionAt)&&v.func(N.offsetAt))}s.is=g;function u(_,N){for(var X=_.getText(),_e=o(N,function(rn,er){var Cs=rn.range.start.line-er.range.start.line;return Cs===0?rn.range.start.character-er.range.start.character:Cs}),he=X.length,et=_e.length-1;et>=0;et--){var tt=_e[et],Ct=_.offsetAt(tt.range.start),ee=_.offsetAt(tt.range.end);if(ee<=he)X=X.substring(0,Ct)+tt.newText+X.substring(ee,X.length);else throw new Error("Overlapping edit");he=Ct}return X}s.applyEdits=u;function o(_,N){if(_.length<=1)return _;var X=_.length/2|0,_e=_.slice(0,X),he=_.slice(X);o(_e,N),o(he,N);for(var et=0,tt=0,Ct=0;et<_e.length&&tt<he.length;){var ee=N(_e[et],he[tt]);ee<=0?_[Ct++]=_e[et++]:_[Ct++]=he[tt++]}for(;et<_e.length;)_[Ct++]=_e[et++];for(;tt<he.length;)_[Ct++]=he[tt++];return _}})(Oe=e.TextDocument||(e.TextDocument={}));var Ke=function(){function s(h,g,u,o){this._uri=h,this._languageId=g,this._version=u,this._content=o,this._lineOffsets=void 0}return Object.defineProperty(s.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),s.prototype.getText=function(h){if(h){var g=this.offsetAt(h.start),u=this.offsetAt(h.end);return this._content.substring(g,u)}return this._content},s.prototype.update=function(h,g){this._content=h.text,this._version=g,this._lineOffsets=void 0},s.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var h=[],g=this._content,u=!0,o=0;o<g.length;o++){u&&(h.push(o),u=!1);var _=g.charAt(o);u=_==="\r"||_===`
`,_==="\r"&&o+1<g.length&&g.charAt(o+1)===`
`&&o++}u&&g.length>0&&h.push(g.length),this._lineOffsets=h}return this._lineOffsets},s.prototype.positionAt=function(h){h=Math.max(Math.min(h,this._content.length),0);var g=this.getLineOffsets(),u=0,o=g.length;if(o===0)return f.create(0,h);for(;u<o;){var _=Math.floor((u+o)/2);g[_]>h?o=_:u=_+1}var N=u-1;return f.create(N,h-g[N])},s.prototype.offsetAt=function(h){var g=this.getLineOffsets();if(h.line>=g.length)return this._content.length;if(h.line<0)return 0;var u=g[h.line],o=h.line+1<g.length?g[h.line+1]:this._content.length;return Math.max(Math.min(u+h.character,o),u)},Object.defineProperty(s.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),s}(),v;(function(s){var h=Object.prototype.toString;function g(ee){return typeof ee<"u"}s.defined=g;function u(ee){return typeof ee>"u"}s.undefined=u;function o(ee){return ee===!0||ee===!1}s.boolean=o;function _(ee){return h.call(ee)==="[object String]"}s.string=_;function N(ee){return h.call(ee)==="[object Number]"}s.number=N;function X(ee,rn,er){return h.call(ee)==="[object Number]"&&rn<=ee&&ee<=er}s.numberRange=X;function _e(ee){return h.call(ee)==="[object Number]"&&-2147483648<=ee&&ee<=2147483647}s.integer=_e;function he(ee){return h.call(ee)==="[object Number]"&&0<=ee&&ee<=2147483647}s.uinteger=he;function et(ee){return h.call(ee)==="[object Function]"}s.func=et;function tt(ee){return ee!==null&&typeof ee=="object"}s.objectLiteral=tt;function Ct(ee,rn){return Array.isArray(ee)&&ee.every(rn)}s.typedArray=Ct})(v||(v={}))})});var Te=L(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.ProtocolNotificationType=Ve.ProtocolNotificationType0=Ve.ProtocolRequestType=Ve.ProtocolRequestType0=Ve.RegistrationType=Ve.MessageDirection=void 0;var fn=Xt(),al;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(al=Ve.MessageDirection||(Ve.MessageDirection={}));var Mo=class{constructor(e){this.method=e}};Ve.RegistrationType=Mo;var Fo=class extends fn.RequestType0{constructor(e){super(e)}};Ve.ProtocolRequestType0=Fo;var Ao=class extends fn.RequestType{constructor(e){super(e,fn.ParameterStructures.byName)}};Ve.ProtocolRequestType=Ao;var Lo=class extends fn.NotificationType0{constructor(e){super(e)}};Ve.ProtocolNotificationType0=Lo;var jo=class extends fn.NotificationType{constructor(e){super(e,fn.ParameterStructures.byName)}};Ve.ProtocolNotificationType=jo});var yr=L(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.objectLiteral=De.typedArray=De.stringArray=De.array=De.func=De.error=De.number=De.string=De.boolean=void 0;function cl(t){return t===!0||t===!1}De.boolean=cl;function ra(t){return typeof t=="string"||t instanceof String}De.string=ra;function ul(t){return typeof t=="number"||t instanceof Number}De.number=ul;function ll(t){return t instanceof Error}De.error=ll;function dl(t){return typeof t=="function"}De.func=dl;function ia(t){return Array.isArray(t)}De.array=ia;function fl(t){return ia(t)&&t.every(e=>ra(e))}De.stringArray=fl;function hl(t,e){return Array.isArray(t)&&t.every(e)}De.typedArray=hl;function gl(t){return t!==null&&typeof t=="object"}De.objectLiteral=gl});var sa=L(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.ImplementationRequest=void 0;var oa=Te(),pl;(function(t){t.method="textDocument/implementation",t.messageDirection=oa.MessageDirection.clientToServer,t.type=new oa.ProtocolRequestType(t.method)})(pl=xn.ImplementationRequest||(xn.ImplementationRequest={}))});var ca=L(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.TypeDefinitionRequest=void 0;var aa=Te(),ml;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=aa.MessageDirection.clientToServer,t.type=new aa.ProtocolRequestType(t.method)})(ml=On.TypeDefinitionRequest||(On.TypeDefinitionRequest={}))});var ua=L(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.DidChangeWorkspaceFoldersNotification=qt.WorkspaceFoldersRequest=void 0;var vr=Te(),yl;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=vr.MessageDirection.serverToClient,t.type=new vr.ProtocolRequestType0(t.method)})(yl=qt.WorkspaceFoldersRequest||(qt.WorkspaceFoldersRequest={}));var vl;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=vr.MessageDirection.clientToServer,t.type=new vr.ProtocolNotificationType(t.method)})(vl=qt.DidChangeWorkspaceFoldersNotification||(qt.DidChangeWorkspaceFoldersNotification={}))});var da=L(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.ConfigurationRequest=void 0;var la=Te(),Tl;(function(t){t.method="workspace/configuration",t.messageDirection=la.MessageDirection.serverToClient,t.type=new la.ProtocolRequestType(t.method)})(Tl=In.ConfigurationRequest||(In.ConfigurationRequest={}))});var fa=L(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.ColorPresentationRequest=Mt.DocumentColorRequest=void 0;var Tr=Te(),bl;(function(t){t.method="textDocument/documentColor",t.messageDirection=Tr.MessageDirection.clientToServer,t.type=new Tr.ProtocolRequestType(t.method)})(bl=Mt.DocumentColorRequest||(Mt.DocumentColorRequest={}));var _l;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Tr.MessageDirection.clientToServer,t.type=new Tr.ProtocolRequestType(t.method)})(_l=Mt.ColorPresentationRequest||(Mt.ColorPresentationRequest={}))});var ga=L(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.FoldingRangeRequest=void 0;var ha=Te(),Rl;(function(t){t.method="textDocument/foldingRange",t.messageDirection=ha.MessageDirection.clientToServer,t.type=new ha.ProtocolRequestType(t.method)})(Rl=qn.FoldingRangeRequest||(qn.FoldingRangeRequest={}))});var ma=L(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.DeclarationRequest=void 0;var pa=Te(),Cl;(function(t){t.method="textDocument/declaration",t.messageDirection=pa.MessageDirection.clientToServer,t.type=new pa.ProtocolRequestType(t.method)})(Cl=Mn.DeclarationRequest||(Mn.DeclarationRequest={}))});var va=L(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.SelectionRangeRequest=void 0;var ya=Te(),Dl;(function(t){t.method="textDocument/selectionRange",t.messageDirection=ya.MessageDirection.clientToServer,t.type=new ya.ProtocolRequestType(t.method)})(Dl=Fn.SelectionRangeRequest||(Fn.SelectionRangeRequest={}))});var Ta=L(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.WorkDoneProgressCancelNotification=it.WorkDoneProgressCreateRequest=it.WorkDoneProgress=void 0;var kl=Xt(),br=Te(),El;(function(t){t.type=new kl.ProgressType;function e(n){return n===t.type}t.is=e})(El=it.WorkDoneProgress||(it.WorkDoneProgress={}));var Nl;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=br.MessageDirection.serverToClient,t.type=new br.ProtocolRequestType(t.method)})(Nl=it.WorkDoneProgressCreateRequest||(it.WorkDoneProgressCreateRequest={}));var Sl;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=br.MessageDirection.clientToServer,t.type=new br.ProtocolNotificationType(t.method)})(Sl=it.WorkDoneProgressCancelNotification||(it.WorkDoneProgressCancelNotification={}))});var ba=L(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.CallHierarchyOutgoingCallsRequest=ot.CallHierarchyIncomingCallsRequest=ot.CallHierarchyPrepareRequest=void 0;var hn=Te(),wl;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=hn.MessageDirection.clientToServer,t.type=new hn.ProtocolRequestType(t.method)})(wl=ot.CallHierarchyPrepareRequest||(ot.CallHierarchyPrepareRequest={}));var Pl;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=hn.MessageDirection.clientToServer,t.type=new hn.ProtocolRequestType(t.method)})(Pl=ot.CallHierarchyIncomingCallsRequest||(ot.CallHierarchyIncomingCallsRequest={}));var xl;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=hn.MessageDirection.clientToServer,t.type=new hn.ProtocolRequestType(t.method)})(xl=ot.CallHierarchyOutgoingCallsRequest||(ot.CallHierarchyOutgoingCallsRequest={}))});var _a=L(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.SemanticTokensRefreshRequest=ke.SemanticTokensRangeRequest=ke.SemanticTokensDeltaRequest=ke.SemanticTokensRequest=ke.SemanticTokensRegistrationType=ke.TokenFormat=void 0;var St=Te(),Ol;(function(t){t.Relative="relative"})(Ol=ke.TokenFormat||(ke.TokenFormat={}));var _r;(function(t){t.method="textDocument/semanticTokens",t.type=new St.RegistrationType(t.method)})(_r=ke.SemanticTokensRegistrationType||(ke.SemanticTokensRegistrationType={}));var Il;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=St.MessageDirection.clientToServer,t.type=new St.ProtocolRequestType(t.method),t.registrationMethod=_r.method})(Il=ke.SemanticTokensRequest||(ke.SemanticTokensRequest={}));var ql;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=St.MessageDirection.clientToServer,t.type=new St.ProtocolRequestType(t.method),t.registrationMethod=_r.method})(ql=ke.SemanticTokensDeltaRequest||(ke.SemanticTokensDeltaRequest={}));var Ml;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=St.MessageDirection.clientToServer,t.type=new St.ProtocolRequestType(t.method),t.registrationMethod=_r.method})(Ml=ke.SemanticTokensRangeRequest||(ke.SemanticTokensRangeRequest={}));var Fl;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=St.MessageDirection.serverToClient,t.type=new St.ProtocolRequestType0(t.method)})(Fl=ke.SemanticTokensRefreshRequest||(ke.SemanticTokensRefreshRequest={}))});var Ca=L(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.ShowDocumentRequest=void 0;var Ra=Te(),Al;(function(t){t.method="window/showDocument",t.messageDirection=Ra.MessageDirection.serverToClient,t.type=new Ra.ProtocolRequestType(t.method)})(Al=An.ShowDocumentRequest||(An.ShowDocumentRequest={}))});var ka=L(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.LinkedEditingRangeRequest=void 0;var Da=Te(),Ll;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Da.MessageDirection.clientToServer,t.type=new Da.ProtocolRequestType(t.method)})(Ll=Ln.LinkedEditingRangeRequest||(Ln.LinkedEditingRangeRequest={}))});var Ea=L(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.WillDeleteFilesRequest=be.DidDeleteFilesNotification=be.DidRenameFilesNotification=be.WillRenameFilesRequest=be.DidCreateFilesNotification=be.WillCreateFilesRequest=be.FileOperationPatternKind=void 0;var Xe=Te(),jl;(function(t){t.file="file",t.folder="folder"})(jl=be.FileOperationPatternKind||(be.FileOperationPatternKind={}));var Wl;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Xe.MessageDirection.clientToServer,t.type=new Xe.ProtocolRequestType(t.method)})(Wl=be.WillCreateFilesRequest||(be.WillCreateFilesRequest={}));var Hl;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Xe.MessageDirection.clientToServer,t.type=new Xe.ProtocolNotificationType(t.method)})(Hl=be.DidCreateFilesNotification||(be.DidCreateFilesNotification={}));var Ul;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Xe.MessageDirection.clientToServer,t.type=new Xe.ProtocolRequestType(t.method)})(Ul=be.WillRenameFilesRequest||(be.WillRenameFilesRequest={}));var Vl;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Xe.MessageDirection.clientToServer,t.type=new Xe.ProtocolNotificationType(t.method)})(Vl=be.DidRenameFilesNotification||(be.DidRenameFilesNotification={}));var Bl;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Xe.MessageDirection.clientToServer,t.type=new Xe.ProtocolNotificationType(t.method)})(Bl=be.DidDeleteFilesNotification||(be.DidDeleteFilesNotification={}));var $l;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Xe.MessageDirection.clientToServer,t.type=new Xe.ProtocolRequestType(t.method)})($l=be.WillDeleteFilesRequest||(be.WillDeleteFilesRequest={}))});var Sa=L(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.MonikerRequest=st.MonikerKind=st.UniquenessLevel=void 0;var Na=Te(),zl;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(zl=st.UniquenessLevel||(st.UniquenessLevel={}));var Gl;(function(t){t.$import="import",t.$export="export",t.local="local"})(Gl=st.MonikerKind||(st.MonikerKind={}));var Kl;(function(t){t.method="textDocument/moniker",t.messageDirection=Na.MessageDirection.clientToServer,t.type=new Na.ProtocolRequestType(t.method)})(Kl=st.MonikerRequest||(st.MonikerRequest={}))});var wa=L(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.TypeHierarchySubtypesRequest=at.TypeHierarchySupertypesRequest=at.TypeHierarchyPrepareRequest=void 0;var gn=Te(),Xl;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=gn.MessageDirection.clientToServer,t.type=new gn.ProtocolRequestType(t.method)})(Xl=at.TypeHierarchyPrepareRequest||(at.TypeHierarchyPrepareRequest={}));var Yl;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=gn.MessageDirection.clientToServer,t.type=new gn.ProtocolRequestType(t.method)})(Yl=at.TypeHierarchySupertypesRequest||(at.TypeHierarchySupertypesRequest={}));var Jl;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=gn.MessageDirection.clientToServer,t.type=new gn.ProtocolRequestType(t.method)})(Jl=at.TypeHierarchySubtypesRequest||(at.TypeHierarchySubtypesRequest={}))});var Pa=L(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.InlineValueRefreshRequest=Ft.InlineValueRequest=void 0;var Rr=Te(),Ql;(function(t){t.method="textDocument/inlineValue",t.messageDirection=Rr.MessageDirection.clientToServer,t.type=new Rr.ProtocolRequestType(t.method)})(Ql=Ft.InlineValueRequest||(Ft.InlineValueRequest={}));var Zl;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=Rr.MessageDirection.serverToClient,t.type=new Rr.ProtocolRequestType0(t.method)})(Zl=Ft.InlineValueRefreshRequest||(Ft.InlineValueRefreshRequest={}))});var xa=L(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.InlayHintRefreshRequest=ct.InlayHintResolveRequest=ct.InlayHintRequest=void 0;var pn=Te(),ed;(function(t){t.method="textDocument/inlayHint",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolRequestType(t.method)})(ed=ct.InlayHintRequest||(ct.InlayHintRequest={}));var td;(function(t){t.method="inlayHint/resolve",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolRequestType(t.method)})(td=ct.InlayHintResolveRequest||(ct.InlayHintResolveRequest={}));var nd;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=pn.MessageDirection.serverToClient,t.type=new pn.ProtocolRequestType0(t.method)})(nd=ct.InlayHintRefreshRequest||(ct.InlayHintRefreshRequest={}))});var Ia=L(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.DiagnosticRefreshRequest=qe.WorkspaceDiagnosticRequest=qe.DocumentDiagnosticRequest=qe.DocumentDiagnosticReportKind=qe.DiagnosticServerCancellationData=void 0;var Oa=Xt(),rd=yr(),mn=Te(),id;(function(t){function e(n){let r=n;return r&&rd.boolean(r.retriggerRequest)}t.is=e})(id=qe.DiagnosticServerCancellationData||(qe.DiagnosticServerCancellationData={}));var od;(function(t){t.Full="full",t.Unchanged="unchanged"})(od=qe.DocumentDiagnosticReportKind||(qe.DocumentDiagnosticReportKind={}));var sd;(function(t){t.method="textDocument/diagnostic",t.messageDirection=mn.MessageDirection.clientToServer,t.type=new mn.ProtocolRequestType(t.method),t.partialResult=new Oa.ProgressType})(sd=qe.DocumentDiagnosticRequest||(qe.DocumentDiagnosticRequest={}));var ad;(function(t){t.method="workspace/diagnostic",t.messageDirection=mn.MessageDirection.clientToServer,t.type=new mn.ProtocolRequestType(t.method),t.partialResult=new Oa.ProgressType})(ad=qe.WorkspaceDiagnosticRequest||(qe.WorkspaceDiagnosticRequest={}));var cd;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=mn.MessageDirection.serverToClient,t.type=new mn.ProtocolRequestType0(t.method)})(cd=qe.DiagnosticRefreshRequest||(qe.DiagnosticRefreshRequest={}))});var Fa=L(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.DidCloseNotebookDocumentNotification=ie.DidSaveNotebookDocumentNotification=ie.DidChangeNotebookDocumentNotification=ie.NotebookCellArrayChange=ie.DidOpenNotebookDocumentNotification=ie.NotebookDocumentSyncRegistrationType=ie.NotebookDocument=ie.NotebookCell=ie.ExecutionSummary=ie.NotebookCellKind=void 0;var jn=mr(),ut=yr(),mt=Te(),qa;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(qa=ie.NotebookCellKind||(ie.NotebookCellKind={}));var Ma;(function(t){function e(i,a){let f={executionOrder:i};return(a===!0||a===!1)&&(f.success=a),f}t.create=e;function n(i){let a=i;return ut.objectLiteral(a)&&jn.uinteger.is(a.executionOrder)&&(a.success===void 0||ut.boolean(a.success))}t.is=n;function r(i,a){return i===a?!0:i==null||a===null||a===void 0?!1:i.executionOrder===a.executionOrder&&i.success===a.success}t.equals=r})(Ma=ie.ExecutionSummary||(ie.ExecutionSummary={}));var Wo;(function(t){function e(a,f){return{kind:a,document:f}}t.create=e;function n(a){let f=a;return ut.objectLiteral(f)&&qa.is(f.kind)&&jn.DocumentUri.is(f.document)&&(f.metadata===void 0||ut.objectLiteral(f.metadata))}t.is=n;function r(a,f){let T=new Set;return a.document!==f.document&&T.add("document"),a.kind!==f.kind&&T.add("kind"),a.executionSummary!==f.executionSummary&&T.add("executionSummary"),(a.metadata!==void 0||f.metadata!==void 0)&&!i(a.metadata,f.metadata)&&T.add("metadata"),(a.executionSummary!==void 0||f.executionSummary!==void 0)&&!Ma.equals(a.executionSummary,f.executionSummary)&&T.add("executionSummary"),T}t.diff=r;function i(a,f){if(a===f)return!0;if(a==null||f===null||f===void 0||typeof a!=typeof f||typeof a!="object")return!1;let T=Array.isArray(a),l=Array.isArray(f);if(T!==l)return!1;if(T&&l){if(a.length!==f.length)return!1;for(let p=0;p<a.length;p++)if(!i(a[p],f[p]))return!1}if(ut.objectLiteral(a)&&ut.objectLiteral(f)){let p=Object.keys(a),y=Object.keys(f);if(p.length!==y.length||(p.sort(),y.sort(),!i(p,y)))return!1;for(let C=0;C<p.length;C++){let R=p[C];if(!i(a[R],f[R]))return!1}}return!0}})(Wo=ie.NotebookCell||(ie.NotebookCell={}));var ud;(function(t){function e(r,i,a,f){return{uri:r,notebookType:i,version:a,cells:f}}t.create=e;function n(r){let i=r;return ut.objectLiteral(i)&&ut.string(i.uri)&&jn.integer.is(i.version)&&ut.typedArray(i.cells,Wo.is)}t.is=n})(ud=ie.NotebookDocument||(ie.NotebookDocument={}));var Wn;(function(t){t.method="notebookDocument/sync",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.RegistrationType(t.method)})(Wn=ie.NotebookDocumentSyncRegistrationType||(ie.NotebookDocumentSyncRegistrationType={}));var ld;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method),t.registrationMethod=Wn.method})(ld=ie.DidOpenNotebookDocumentNotification||(ie.DidOpenNotebookDocumentNotification={}));var dd;(function(t){function e(r){let i=r;return ut.objectLiteral(i)&&jn.uinteger.is(i.start)&&jn.uinteger.is(i.deleteCount)&&(i.cells===void 0||ut.typedArray(i.cells,Wo.is))}t.is=e;function n(r,i,a){let f={start:r,deleteCount:i};return a!==void 0&&(f.cells=a),f}t.create=n})(dd=ie.NotebookCellArrayChange||(ie.NotebookCellArrayChange={}));var fd;(function(t){t.method="notebookDocument/didChange",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method),t.registrationMethod=Wn.method})(fd=ie.DidChangeNotebookDocumentNotification||(ie.DidChangeNotebookDocumentNotification={}));var hd;(function(t){t.method="notebookDocument/didSave",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method),t.registrationMethod=Wn.method})(hd=ie.DidSaveNotebookDocumentNotification||(ie.DidSaveNotebookDocumentNotification={}));var gd;(function(t){t.method="notebookDocument/didClose",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method),t.registrationMethod=Wn.method})(gd=ie.DidCloseNotebookDocumentNotification||(ie.DidCloseNotebookDocumentNotification={}))});var $a=L(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.WorkspaceSymbolRequest=c.CodeActionResolveRequest=c.CodeActionRequest=c.DocumentSymbolRequest=c.DocumentHighlightRequest=c.ReferencesRequest=c.DefinitionRequest=c.SignatureHelpRequest=c.SignatureHelpTriggerKind=c.HoverRequest=c.CompletionResolveRequest=c.CompletionRequest=c.CompletionTriggerKind=c.PublishDiagnosticsNotification=c.WatchKind=c.RelativePattern=c.FileChangeType=c.DidChangeWatchedFilesNotification=c.WillSaveTextDocumentWaitUntilRequest=c.WillSaveTextDocumentNotification=c.TextDocumentSaveReason=c.DidSaveTextDocumentNotification=c.DidCloseTextDocumentNotification=c.DidChangeTextDocumentNotification=c.TextDocumentContentChangeEvent=c.DidOpenTextDocumentNotification=c.TextDocumentSyncKind=c.TelemetryEventNotification=c.LogMessageNotification=c.ShowMessageRequest=c.ShowMessageNotification=c.MessageType=c.DidChangeConfigurationNotification=c.ExitNotification=c.ShutdownRequest=c.InitializedNotification=c.InitializeErrorCodes=c.InitializeRequest=c.WorkDoneProgressOptions=c.TextDocumentRegistrationOptions=c.StaticRegistrationOptions=c.PositionEncodingKind=c.FailureHandlingKind=c.ResourceOperationKind=c.UnregistrationRequest=c.RegistrationRequest=c.DocumentSelector=c.NotebookCellTextDocumentFilter=c.NotebookDocumentFilter=c.TextDocumentFilter=void 0;c.TypeHierarchySubtypesRequest=c.TypeHierarchyPrepareRequest=c.MonikerRequest=c.MonikerKind=c.UniquenessLevel=c.WillDeleteFilesRequest=c.DidDeleteFilesNotification=c.WillRenameFilesRequest=c.DidRenameFilesNotification=c.WillCreateFilesRequest=c.DidCreateFilesNotification=c.FileOperationPatternKind=c.LinkedEditingRangeRequest=c.ShowDocumentRequest=c.SemanticTokensRegistrationType=c.SemanticTokensRefreshRequest=c.SemanticTokensRangeRequest=c.SemanticTokensDeltaRequest=c.SemanticTokensRequest=c.TokenFormat=c.CallHierarchyPrepareRequest=c.CallHierarchyOutgoingCallsRequest=c.CallHierarchyIncomingCallsRequest=c.WorkDoneProgressCancelNotification=c.WorkDoneProgressCreateRequest=c.WorkDoneProgress=c.SelectionRangeRequest=c.DeclarationRequest=c.FoldingRangeRequest=c.ColorPresentationRequest=c.DocumentColorRequest=c.ConfigurationRequest=c.DidChangeWorkspaceFoldersNotification=c.WorkspaceFoldersRequest=c.TypeDefinitionRequest=c.ImplementationRequest=c.ApplyWorkspaceEditRequest=c.ExecuteCommandRequest=c.PrepareRenameRequest=c.RenameRequest=c.PrepareSupportDefaultBehavior=c.DocumentOnTypeFormattingRequest=c.DocumentRangeFormattingRequest=c.DocumentFormattingRequest=c.DocumentLinkResolveRequest=c.DocumentLinkRequest=c.CodeLensRefreshRequest=c.CodeLensResolveRequest=c.CodeLensRequest=c.WorkspaceSymbolResolveRequest=void 0;c.DidCloseNotebookDocumentNotification=c.DidSaveNotebookDocumentNotification=c.DidChangeNotebookDocumentNotification=c.NotebookCellArrayChange=c.DidOpenNotebookDocumentNotification=c.NotebookDocumentSyncRegistrationType=c.NotebookDocument=c.NotebookCell=c.ExecutionSummary=c.NotebookCellKind=c.DiagnosticRefreshRequest=c.WorkspaceDiagnosticRequest=c.DocumentDiagnosticRequest=c.DocumentDiagnosticReportKind=c.DiagnosticServerCancellationData=c.InlayHintRefreshRequest=c.InlayHintResolveRequest=c.InlayHintRequest=c.InlineValueRefreshRequest=c.InlineValueRequest=c.TypeHierarchySupertypesRequest=void 0;var I=Te(),Aa=mr(),Me=yr(),pd=sa();Object.defineProperty(c,"ImplementationRequest",{enumerable:!0,get:function(){return pd.ImplementationRequest}});var md=ca();Object.defineProperty(c,"TypeDefinitionRequest",{enumerable:!0,get:function(){return md.TypeDefinitionRequest}});var La=ua();Object.defineProperty(c,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return La.WorkspaceFoldersRequest}});Object.defineProperty(c,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return La.DidChangeWorkspaceFoldersNotification}});var yd=da();Object.defineProperty(c,"ConfigurationRequest",{enumerable:!0,get:function(){return yd.ConfigurationRequest}});var ja=fa();Object.defineProperty(c,"DocumentColorRequest",{enumerable:!0,get:function(){return ja.DocumentColorRequest}});Object.defineProperty(c,"ColorPresentationRequest",{enumerable:!0,get:function(){return ja.ColorPresentationRequest}});var vd=ga();Object.defineProperty(c,"FoldingRangeRequest",{enumerable:!0,get:function(){return vd.FoldingRangeRequest}});var Td=ma();Object.defineProperty(c,"DeclarationRequest",{enumerable:!0,get:function(){return Td.DeclarationRequest}});var bd=va();Object.defineProperty(c,"SelectionRangeRequest",{enumerable:!0,get:function(){return bd.SelectionRangeRequest}});var Ho=Ta();Object.defineProperty(c,"WorkDoneProgress",{enumerable:!0,get:function(){return Ho.WorkDoneProgress}});Object.defineProperty(c,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Ho.WorkDoneProgressCreateRequest}});Object.defineProperty(c,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Ho.WorkDoneProgressCancelNotification}});var Uo=ba();Object.defineProperty(c,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Uo.CallHierarchyIncomingCallsRequest}});Object.defineProperty(c,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Uo.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(c,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Uo.CallHierarchyPrepareRequest}});var yn=_a();Object.defineProperty(c,"TokenFormat",{enumerable:!0,get:function(){return yn.TokenFormat}});Object.defineProperty(c,"SemanticTokensRequest",{enumerable:!0,get:function(){return yn.SemanticTokensRequest}});Object.defineProperty(c,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return yn.SemanticTokensDeltaRequest}});Object.defineProperty(c,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return yn.SemanticTokensRangeRequest}});Object.defineProperty(c,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return yn.SemanticTokensRefreshRequest}});Object.defineProperty(c,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return yn.SemanticTokensRegistrationType}});var _d=Ca();Object.defineProperty(c,"ShowDocumentRequest",{enumerable:!0,get:function(){return _d.ShowDocumentRequest}});var Rd=ka();Object.defineProperty(c,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Rd.LinkedEditingRangeRequest}});var Yt=Ea();Object.defineProperty(c,"FileOperationPatternKind",{enumerable:!0,get:function(){return Yt.FileOperationPatternKind}});Object.defineProperty(c,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Yt.DidCreateFilesNotification}});Object.defineProperty(c,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Yt.WillCreateFilesRequest}});Object.defineProperty(c,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Yt.DidRenameFilesNotification}});Object.defineProperty(c,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Yt.WillRenameFilesRequest}});Object.defineProperty(c,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Yt.DidDeleteFilesNotification}});Object.defineProperty(c,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Yt.WillDeleteFilesRequest}});var Vo=Sa();Object.defineProperty(c,"UniquenessLevel",{enumerable:!0,get:function(){return Vo.UniquenessLevel}});Object.defineProperty(c,"MonikerKind",{enumerable:!0,get:function(){return Vo.MonikerKind}});Object.defineProperty(c,"MonikerRequest",{enumerable:!0,get:function(){return Vo.MonikerRequest}});var Bo=wa();Object.defineProperty(c,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Bo.TypeHierarchyPrepareRequest}});Object.defineProperty(c,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Bo.TypeHierarchySubtypesRequest}});Object.defineProperty(c,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Bo.TypeHierarchySupertypesRequest}});var Wa=Pa();Object.defineProperty(c,"InlineValueRequest",{enumerable:!0,get:function(){return Wa.InlineValueRequest}});Object.defineProperty(c,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return Wa.InlineValueRefreshRequest}});var $o=xa();Object.defineProperty(c,"InlayHintRequest",{enumerable:!0,get:function(){return $o.InlayHintRequest}});Object.defineProperty(c,"InlayHintResolveRequest",{enumerable:!0,get:function(){return $o.InlayHintResolveRequest}});Object.defineProperty(c,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return $o.InlayHintRefreshRequest}});var Hn=Ia();Object.defineProperty(c,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Hn.DiagnosticServerCancellationData}});Object.defineProperty(c,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Hn.DocumentDiagnosticReportKind}});Object.defineProperty(c,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Hn.DocumentDiagnosticRequest}});Object.defineProperty(c,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Hn.WorkspaceDiagnosticRequest}});Object.defineProperty(c,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Hn.DiagnosticRefreshRequest}});var yt=Fa();Object.defineProperty(c,"NotebookCellKind",{enumerable:!0,get:function(){return yt.NotebookCellKind}});Object.defineProperty(c,"ExecutionSummary",{enumerable:!0,get:function(){return yt.ExecutionSummary}});Object.defineProperty(c,"NotebookCell",{enumerable:!0,get:function(){return yt.NotebookCell}});Object.defineProperty(c,"NotebookDocument",{enumerable:!0,get:function(){return yt.NotebookDocument}});Object.defineProperty(c,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return yt.NotebookDocumentSyncRegistrationType}});Object.defineProperty(c,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return yt.DidOpenNotebookDocumentNotification}});Object.defineProperty(c,"NotebookCellArrayChange",{enumerable:!0,get:function(){return yt.NotebookCellArrayChange}});Object.defineProperty(c,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return yt.DidChangeNotebookDocumentNotification}});Object.defineProperty(c,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return yt.DidSaveNotebookDocumentNotification}});Object.defineProperty(c,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return yt.DidCloseNotebookDocumentNotification}});var Ha;(function(t){function e(n){let r=n;return Me.string(r.language)||Me.string(r.scheme)||Me.string(r.pattern)}t.is=e})(Ha=c.TextDocumentFilter||(c.TextDocumentFilter={}));var Ua;(function(t){function e(n){let r=n;return Me.objectLiteral(r)&&(Me.string(r.notebookType)||Me.string(r.scheme)||Me.string(r.pattern))}t.is=e})(Ua=c.NotebookDocumentFilter||(c.NotebookDocumentFilter={}));var Va;(function(t){function e(n){let r=n;return Me.objectLiteral(r)&&(Me.string(r.notebook)||Ua.is(r.notebook))&&(r.language===void 0||Me.string(r.language))}t.is=e})(Va=c.NotebookCellTextDocumentFilter||(c.NotebookCellTextDocumentFilter={}));var Ba;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!Me.string(r)&&!Ha.is(r)&&!Va.is(r))return!1;return!0}t.is=e})(Ba=c.DocumentSelector||(c.DocumentSelector={}));var Cd;(function(t){t.method="client/registerCapability",t.messageDirection=I.MessageDirection.serverToClient,t.type=new I.ProtocolRequestType(t.method)})(Cd=c.RegistrationRequest||(c.RegistrationRequest={}));var Dd;(function(t){t.method="client/unregisterCapability",t.messageDirection=I.MessageDirection.serverToClient,t.type=new I.ProtocolRequestType(t.method)})(Dd=c.UnregistrationRequest||(c.UnregistrationRequest={}));var kd;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(kd=c.ResourceOperationKind||(c.ResourceOperationKind={}));var Ed;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Ed=c.FailureHandlingKind||(c.FailureHandlingKind={}));var Nd;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(Nd=c.PositionEncodingKind||(c.PositionEncodingKind={}));var Sd;(function(t){function e(n){let r=n;return r&&Me.string(r.id)&&r.id.length>0}t.hasId=e})(Sd=c.StaticRegistrationOptions||(c.StaticRegistrationOptions={}));var wd;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||Ba.is(r.documentSelector))}t.is=e})(wd=c.TextDocumentRegistrationOptions||(c.TextDocumentRegistrationOptions={}));var Pd;(function(t){function e(r){let i=r;return Me.objectLiteral(i)&&(i.workDoneProgress===void 0||Me.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&Me.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(Pd=c.WorkDoneProgressOptions||(c.WorkDoneProgressOptions={}));var xd;(function(t){t.method="initialize",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(xd=c.InitializeRequest||(c.InitializeRequest={}));var Od;(function(t){t.unknownProtocolVersion=1})(Od=c.InitializeErrorCodes||(c.InitializeErrorCodes={}));var Id;(function(t){t.method="initialized",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolNotificationType(t.method)})(Id=c.InitializedNotification||(c.InitializedNotification={}));var qd;(function(t){t.method="shutdown",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType0(t.method)})(qd=c.ShutdownRequest||(c.ShutdownRequest={}));var Md;(function(t){t.method="exit",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolNotificationType0(t.method)})(Md=c.ExitNotification||(c.ExitNotification={}));var Fd;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolNotificationType(t.method)})(Fd=c.DidChangeConfigurationNotification||(c.DidChangeConfigurationNotification={}));var Ad;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(Ad=c.MessageType||(c.MessageType={}));var Ld;(function(t){t.method="window/showMessage",t.messageDirection=I.MessageDirection.serverToClient,t.type=new I.ProtocolNotificationType(t.method)})(Ld=c.ShowMessageNotification||(c.ShowMessageNotification={}));var jd;(function(t){t.method="window/showMessageRequest",t.messageDirection=I.MessageDirection.serverToClient,t.type=new I.ProtocolRequestType(t.method)})(jd=c.ShowMessageRequest||(c.ShowMessageRequest={}));var Wd;(function(t){t.method="window/logMessage",t.messageDirection=I.MessageDirection.serverToClient,t.type=new I.ProtocolNotificationType(t.method)})(Wd=c.LogMessageNotification||(c.LogMessageNotification={}));var Hd;(function(t){t.method="telemetry/event",t.messageDirection=I.MessageDirection.serverToClient,t.type=new I.ProtocolNotificationType(t.method)})(Hd=c.TelemetryEventNotification||(c.TelemetryEventNotification={}));var Ud;(function(t){t.None=0,t.Full=1,t.Incremental=2})(Ud=c.TextDocumentSyncKind||(c.TextDocumentSyncKind={}));var Vd;(function(t){t.method="textDocument/didOpen",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolNotificationType(t.method)})(Vd=c.DidOpenTextDocumentNotification||(c.DidOpenTextDocumentNotification={}));var Bd;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(Bd=c.TextDocumentContentChangeEvent||(c.TextDocumentContentChangeEvent={}));var $d;(function(t){t.method="textDocument/didChange",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolNotificationType(t.method)})($d=c.DidChangeTextDocumentNotification||(c.DidChangeTextDocumentNotification={}));var zd;(function(t){t.method="textDocument/didClose",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolNotificationType(t.method)})(zd=c.DidCloseTextDocumentNotification||(c.DidCloseTextDocumentNotification={}));var Gd;(function(t){t.method="textDocument/didSave",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolNotificationType(t.method)})(Gd=c.DidSaveTextDocumentNotification||(c.DidSaveTextDocumentNotification={}));var Kd;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Kd=c.TextDocumentSaveReason||(c.TextDocumentSaveReason={}));var Xd;(function(t){t.method="textDocument/willSave",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolNotificationType(t.method)})(Xd=c.WillSaveTextDocumentNotification||(c.WillSaveTextDocumentNotification={}));var Yd;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(Yd=c.WillSaveTextDocumentWaitUntilRequest||(c.WillSaveTextDocumentWaitUntilRequest={}));var Jd;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolNotificationType(t.method)})(Jd=c.DidChangeWatchedFilesNotification||(c.DidChangeWatchedFilesNotification={}));var Qd;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(Qd=c.FileChangeType||(c.FileChangeType={}));var Zd;(function(t){function e(n){let r=n;return Me.objectLiteral(r)&&(Aa.URI.is(r.baseUri)||Aa.WorkspaceFolder.is(r.baseUri))&&Me.string(r.pattern)}t.is=e})(Zd=c.RelativePattern||(c.RelativePattern={}));var ef;(function(t){t.Create=1,t.Change=2,t.Delete=4})(ef=c.WatchKind||(c.WatchKind={}));var tf;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=I.MessageDirection.serverToClient,t.type=new I.ProtocolNotificationType(t.method)})(tf=c.PublishDiagnosticsNotification||(c.PublishDiagnosticsNotification={}));var nf;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(nf=c.CompletionTriggerKind||(c.CompletionTriggerKind={}));var rf;(function(t){t.method="textDocument/completion",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(rf=c.CompletionRequest||(c.CompletionRequest={}));var of;(function(t){t.method="completionItem/resolve",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(of=c.CompletionResolveRequest||(c.CompletionResolveRequest={}));var sf;(function(t){t.method="textDocument/hover",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(sf=c.HoverRequest||(c.HoverRequest={}));var af;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(af=c.SignatureHelpTriggerKind||(c.SignatureHelpTriggerKind={}));var cf;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(cf=c.SignatureHelpRequest||(c.SignatureHelpRequest={}));var uf;(function(t){t.method="textDocument/definition",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(uf=c.DefinitionRequest||(c.DefinitionRequest={}));var lf;(function(t){t.method="textDocument/references",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(lf=c.ReferencesRequest||(c.ReferencesRequest={}));var df;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(df=c.DocumentHighlightRequest||(c.DocumentHighlightRequest={}));var ff;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(ff=c.DocumentSymbolRequest||(c.DocumentSymbolRequest={}));var hf;(function(t){t.method="textDocument/codeAction",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(hf=c.CodeActionRequest||(c.CodeActionRequest={}));var gf;(function(t){t.method="codeAction/resolve",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(gf=c.CodeActionResolveRequest||(c.CodeActionResolveRequest={}));var pf;(function(t){t.method="workspace/symbol",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(pf=c.WorkspaceSymbolRequest||(c.WorkspaceSymbolRequest={}));var mf;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(mf=c.WorkspaceSymbolResolveRequest||(c.WorkspaceSymbolResolveRequest={}));var yf;(function(t){t.method="textDocument/codeLens",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(yf=c.CodeLensRequest||(c.CodeLensRequest={}));var vf;(function(t){t.method="codeLens/resolve",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(vf=c.CodeLensResolveRequest||(c.CodeLensResolveRequest={}));var Tf;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=I.MessageDirection.serverToClient,t.type=new I.ProtocolRequestType0(t.method)})(Tf=c.CodeLensRefreshRequest||(c.CodeLensRefreshRequest={}));var bf;(function(t){t.method="textDocument/documentLink",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(bf=c.DocumentLinkRequest||(c.DocumentLinkRequest={}));var _f;(function(t){t.method="documentLink/resolve",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(_f=c.DocumentLinkResolveRequest||(c.DocumentLinkResolveRequest={}));var Rf;(function(t){t.method="textDocument/formatting",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(Rf=c.DocumentFormattingRequest||(c.DocumentFormattingRequest={}));var Cf;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(Cf=c.DocumentRangeFormattingRequest||(c.DocumentRangeFormattingRequest={}));var Df;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(Df=c.DocumentOnTypeFormattingRequest||(c.DocumentOnTypeFormattingRequest={}));var kf;(function(t){t.Identifier=1})(kf=c.PrepareSupportDefaultBehavior||(c.PrepareSupportDefaultBehavior={}));var Ef;(function(t){t.method="textDocument/rename",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(Ef=c.RenameRequest||(c.RenameRequest={}));var Nf;(function(t){t.method="textDocument/prepareRename",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(Nf=c.PrepareRenameRequest||(c.PrepareRenameRequest={}));var Sf;(function(t){t.method="workspace/executeCommand",t.messageDirection=I.MessageDirection.clientToServer,t.type=new I.ProtocolRequestType(t.method)})(Sf=c.ExecuteCommandRequest||(c.ExecuteCommandRequest={}));var wf;(function(t){t.method="workspace/applyEdit",t.messageDirection=I.MessageDirection.serverToClient,t.type=new I.ProtocolRequestType("workspace/applyEdit")})(wf=c.ApplyWorkspaceEditRequest||(c.ApplyWorkspaceEditRequest={}))});var Ga=L(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.createProtocolConnection=void 0;var za=Xt();function Pf(t,e,n,r){return za.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,za.createMessageConnection)(t,e,n,r)}Cr.createProtocolConnection=Pf});var Ka=L(Be=>{"use strict";var xf=Be&&Be.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Dr=Be&&Be.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&xf(e,t,n)};Object.defineProperty(Be,"__esModule",{value:!0});Be.LSPErrorCodes=Be.createProtocolConnection=void 0;Dr(Xt(),Be);Dr(mr(),Be);Dr(Te(),Be);Dr($a(),Be);var Of=Ga();Object.defineProperty(Be,"createProtocolConnection",{enumerable:!0,get:function(){return Of.createProtocolConnection}});var If;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(If=Be.LSPErrorCodes||(Be.LSPErrorCodes={}))});var Ne=L(vt=>{"use strict";var qf=vt&&vt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Xa=vt&&vt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&qf(e,t,n)};Object.defineProperty(vt,"__esModule",{value:!0});vt.createProtocolConnection=void 0;var Mf=qo();Xa(qo(),vt);Xa(Ka(),vt);function Ff(t,e,n,r){return(0,Mf.createMessageConnection)(t,e,n,r)}vt.createProtocolConnection=Ff});var zo=L(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.generateUuid=Ye.parse=Ye.isUUID=Ye.v4=Ye.empty=void 0;var Un=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Y=class extends Un{constructor(){super([Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),"-",Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),"-","4",Y._randomHex(),Y._randomHex(),Y._randomHex(),"-",Y._oneOf(Y._timeHighBits),Y._randomHex(),Y._randomHex(),Y._randomHex(),"-",Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex(),Y._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Y._oneOf(Y._chars)}};Y._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Y._timeHighBits=["8","9","a","b"];Ye.empty=new Un("00000000-0000-0000-0000-000000000000");function Ya(){return new Y}Ye.v4=Ya;var Af=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ja(t){return Af.test(t)}Ye.isUUID=Ja;function Lf(t){if(!Ja(t))throw new Error("invalid uuid");return new Un(t)}Ye.parse=Lf;function jf(){return Ya().asHex()}Ye.generateUuid=jf});var Qa=L(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.attachPartialResult=Lt.ProgressFeature=Lt.attachWorkDone=void 0;var At=Ne(),Wf=zo(),Tt=class{constructor(e,n){this._connection=e,this._token=n,Tt.Instances.set(this._token,this)}begin(e,n,r,i){let a={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(At.WorkDoneProgress.type,this._token,a)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(At.WorkDoneProgress.type,this._token,r)}done(){Tt.Instances.delete(this._token),this._connection.sendProgress(At.WorkDoneProgress.type,this._token,{kind:"end"})}};Tt.Instances=new Map;var kr=class extends Tt{constructor(e,n){super(e,n),this._source=new At.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Vn=class{constructor(){}begin(){}report(){}done(){}},Er=class extends Vn{constructor(){super(),this._source=new At.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function Hf(t,e){if(e===void 0||e.workDoneToken===void 0)return new Vn;let n=e.workDoneToken;return delete e.workDoneToken,new Tt(t,n)}Lt.attachWorkDone=Hf;var Uf=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){super.initialize(e),e?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(At.WorkDoneProgressCancelNotification.type,n=>{let r=Tt.Instances.get(n.token);(r instanceof kr||r instanceof Er)&&r.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Vn:new Tt(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=(0,Wf.generateUuid)();return this.connection.sendRequest(At.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new kr(this.connection,e))}else return Promise.resolve(new Er)}};Lt.ProgressFeature=Uf;var Go;(function(t){t.type=new At.ProgressType})(Go||(Go={}));var Ko=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(Go.type,this._token,e)}};function Vf(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new Ko(t,n)}Lt.attachPartialResult=Vf});var Za=L(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.ConfigurationFeature=void 0;var Bf=Ne(),$f=nr(),zf=t=>class extends t{getConfiguration(e){return e?$f.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(Bf.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(e)?r:r[0]:Array.isArray(e)?[]:null)}};Nr.ConfigurationFeature=zf});var ec=L(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.WorkspaceFoldersFeature=void 0;var Sr=Ne(),Gf=t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(e){super.initialize(e);let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Sr.Emitter,this.connection.onNotification(Sr.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(e){super.fillServerCapabilities(e);let n=e.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(Sr.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(Sr.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};wr.WorkspaceFoldersFeature=Gf});var tc=L(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.CallHierarchyFeature=void 0;var Xo=Ne(),Kf=t=>class extends t{get callHierarchy(){return{onPrepare:e=>this.connection.onRequest(Xo.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:e=>{let n=Xo.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=Xo.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Pr.CallHierarchyFeature=Kf});var Jo=L(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.SemanticTokensBuilder=jt.SemanticTokensDiff=jt.SemanticTokensFeature=void 0;var xr=Ne(),Xf=t=>class extends t{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(xr.SemanticTokensRefreshRequest.type),on:e=>{let n=xr.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=xr.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=xr.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};jt.SemanticTokensFeature=Xf;var Or=class{constructor(e,n){this.originalSequence=e,this.modifiedSequence=n}computeDiff(){let e=this.originalSequence.length,n=this.modifiedSequence.length,r=0;for(;r<n&&r<e&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<e){let i=e-1,a=n-1;for(;i>=r&&a>=r&&this.originalSequence[i]===this.modifiedSequence[a];)i--,a--;(i<r||a<r)&&(i++,a++);let f=i-r+1,T=this.modifiedSequence.slice(r,a+1);return T.length===1&&T[0]===this.originalSequence[i]?[{start:r,deleteCount:f-1}]:[{start:r,deleteCount:f,data:T}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<e?[{start:r,deleteCount:e-r}]:[]}};jt.SemanticTokensDiff=Or;var Yo=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,a){let f=e,T=n;this._dataLen>0&&(f-=this._prevLine,f===0&&(T-=this._prevChar)),this._data[this._dataLen++]=f,this._data[this._dataLen++]=T,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=a,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Or(this._prevData,this._data).computeDiff()}:this.build()}};jt.SemanticTokensBuilder=Yo});var nc=L(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.ShowDocumentFeature=void 0;var Yf=Ne(),Jf=t=>class extends t{showDocument(e){return this.connection.sendRequest(Yf.ShowDocumentRequest.type,e)}};Ir.ShowDocumentFeature=Jf});var rc=L(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.FileOperationsFeature=void 0;var vn=Ne(),Qf=t=>class extends t{onDidCreateFiles(e){return this.connection.onNotification(vn.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){return this.connection.onNotification(vn.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){return this.connection.onNotification(vn.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(vn.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(vn.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(vn.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};qr.FileOperationsFeature=Qf});var ic=L(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.LinkedEditingRangeFeature=void 0;var Zf=Ne(),eh=t=>class extends t{onLinkedEditingRange(e){return this.connection.onRequest(Zf.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Mr.LinkedEditingRangeFeature=eh});var oc=L(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.TypeHierarchyFeature=void 0;var Qo=Ne(),th=t=>class extends t{get typeHierarchy(){return{onPrepare:e=>this.connection.onRequest(Qo.TypeHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:e=>{let n=Qo.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:e=>{let n=Qo.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Fr.TypeHierarchyFeature=th});var ac=L(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.InlineValueFeature=void 0;var sc=Ne(),nh=t=>class extends t{get inlineValue(){return{refresh:()=>this.connection.sendRequest(sc.InlineValueRefreshRequest.type),on:e=>this.connection.onRequest(sc.InlineValueRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n)))}}};Ar.InlineValueFeature=nh});var cc=L(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.InlayHintFeature=void 0;var Zo=Ne(),rh=t=>class extends t{get inlayHint(){return{refresh:()=>this.connection.sendRequest(Zo.InlayHintRefreshRequest.type),on:e=>this.connection.onRequest(Zo.InlayHintRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n))),resolve:e=>this.connection.onRequest(Zo.InlayHintResolveRequest.type,(n,r)=>e(n,r))}}};Lr.InlayHintFeature=rh});var uc=L(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.DiagnosticFeature=void 0;var Bn=Ne(),ih=t=>class extends t{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Bn.DiagnosticRefreshRequest.type),on:e=>this.connection.onRequest(Bn.DocumentDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Bn.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:e=>this.connection.onRequest(Bn.WorkspaceDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Bn.WorkspaceDiagnosticRequest.partialResult,n)))}}};jr.DiagnosticFeature=ih});var ts=L(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.TextDocuments=void 0;var Jt=Ne(),es=class{constructor(e){this._configuration=e,this._syncedDocuments=new Map,this._onDidChangeContent=new Jt.Emitter,this._onDidOpen=new Jt.Emitter,this._onDidClose=new Jt.Emitter,this._onDidSave=new Jt.Emitter,this._onWillSave=new Jt.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._syncedDocuments.get(e)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(e){e.__textDocumentSync=Jt.TextDocumentSyncKind.Incremental;let n=[];return n.push(e.onDidOpenTextDocument(r=>{let i=r.textDocument,a=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,a);let f=Object.freeze({document:a});this._onDidOpen.fire(f),this._onDidChangeContent.fire(f)})),n.push(e.onDidChangeTextDocument(r=>{let i=r.textDocument,a=r.contentChanges;if(a.length===0)return;let{version:f}=i;if(f==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let T=this._syncedDocuments.get(i.uri);T!==void 0&&(T=this._configuration.update(T,a,f),this._syncedDocuments.set(i.uri,T),this._onDidChangeContent.fire(Object.freeze({document:T})))})),n.push(e.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(e.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(e.onWillSaveTextDocumentWaitUntil((r,i)=>{let a=this._syncedDocuments.get(r.textDocument.uri);return a!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:a,reason:r.reason}),i):[]})),n.push(e.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),Jt.Disposable.create(()=>{n.forEach(r=>r.dispose())})}};Wr.TextDocuments=es});var rs=L(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.NotebookDocuments=Tn.NotebookSyncFeature=void 0;var Je=Ne(),lc=ts(),oh=t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:e=>this.connection.onNotification(Je.DidOpenNotebookDocumentNotification.type,n=>{e(n)}),onDidChangeNotebookDocument:e=>this.connection.onNotification(Je.DidChangeNotebookDocumentNotification.type,n=>{e(n)}),onDidSaveNotebookDocument:e=>this.connection.onNotification(Je.DidSaveNotebookDocumentNotification.type,n=>{e(n)}),onDidCloseNotebookDocument:e=>this.connection.onNotification(Je.DidCloseNotebookDocumentNotification.type,n=>{e(n)})}}};Tn.NotebookSyncFeature=oh;var Wt=class{onDidOpenTextDocument(e){return this.openHandler=e,Je.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(e){this.openHandler&&this.openHandler(e)}onDidChangeTextDocument(e){return this.changeHandler=e,Je.Disposable.create(()=>{this.changeHandler=e})}changeTextDocument(e){this.changeHandler&&this.changeHandler(e)}onDidCloseTextDocument(e){return this.closeHandler=e,Je.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(e){this.closeHandler&&this.closeHandler(e)}onWillSaveTextDocument(){return Wt.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return Wt.NULL_DISPOSE}onDidSaveTextDocument(){return Wt.NULL_DISPOSE}};Wt.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var ns=class{constructor(e){e instanceof lc.TextDocuments?this._cellTextDocuments=e:this._cellTextDocuments=new lc.TextDocuments(e),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Je.Emitter,this._onDidChange=new Je.Emitter,this._onDidSave=new Je.Emitter,this._onDidClose=new Je.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(e){return this._cellTextDocuments.get(e.document)}getNotebookDocument(e){return this.notebookDocuments.get(e)}getNotebookCell(e){let n=this.notebookCellMap.get(e);return n&&n[0]}findNotebookDocumentForCell(e){let n=typeof e=="string"?e:e.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(e){let n=new Wt,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(e.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let a of i.cellTextDocuments)n.openTextDocument({textDocument:a});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(e.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let a=this.notebookDocuments.get(i.notebookDocument.uri);if(a===void 0)return;a.version=i.notebookDocument.version;let f=a.metadata,T=!1,l=i.change;l.metadata!==void 0&&(T=!0,a.metadata=l.metadata);let p=[],y=[],C=[],R=[];if(l.cells!==void 0){let M=l.cells;if(M.structure!==void 0){let b=M.structure.array;if(a.cells.splice(b.start,b.deleteCount,...b.cells!==void 0?b.cells:[]),M.structure.didOpen!==void 0)for(let m of M.structure.didOpen)n.openTextDocument({textDocument:m}),p.push(m.uri);if(M.structure.didClose)for(let m of M.structure.didClose)n.closeTextDocument({textDocument:m}),y.push(m.uri)}if(M.data!==void 0){let b=new Map(M.data.map(m=>[m.document,m]));for(let m=0;m<=a.cells.length;m++){let w=b.get(a.cells[m].document);if(w!==void 0){let $=a.cells.splice(m,1,w);if(C.push({old:$[0],new:w}),b.delete(w.document),b.size===0)break}}}if(M.textContent!==void 0)for(let b of M.textContent)n.changeTextDocument({textDocument:b.document,contentChanges:b.changes}),R.push(b.document.uri)}this.updateCellMap(a);let k={notebookDocument:a};T&&(k.metadata={old:f,new:a.metadata});let x=[];for(let M of p)x.push(this.getNotebookCell(M));let S=[];for(let M of y)S.push(this.getNotebookCell(M));let j=[];for(let M of R)j.push(this.getNotebookCell(M));(x.length>0||S.length>0||C.length>0||j.length>0)&&(k.cells={added:x,removed:S,changed:{data:C,textContent:j}}),(k.metadata!==void 0||k.cells!==void 0)&&this._onDidChange.fire(k)})),r.push(e.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let a=this.notebookDocuments.get(i.notebookDocument.uri);a!==void 0&&this._onDidSave.fire(a)})),r.push(e.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let a=this.notebookDocuments.get(i.notebookDocument.uri);if(a!==void 0){this._onDidClose.fire(a);for(let f of i.cellTextDocuments)n.closeTextDocument({textDocument:f});this.notebookDocuments.delete(i.notebookDocument.uri);for(let f of a.cells)this.notebookCellMap.delete(f.document)}})),Je.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(e){for(let n of e.cells)this.notebookCellMap.set(n.document,[n,e])}};Tn.NotebookDocuments=ns});var dc=L(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.MonikerFeature=void 0;var sh=Ne(),ah=t=>class extends t{get moniker(){return{on:e=>{let n=sh.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Hr.MonikerFeature=ah});var us=L(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.createConnection=re.combineFeatures=re.combineNotebooksFeatures=re.combineLanguagesFeatures=re.combineWorkspaceFeatures=re.combineWindowFeatures=re.combineClientFeatures=re.combineTracerFeatures=re.combineTelemetryFeatures=re.combineConsoleFeatures=re._NotebooksImpl=re._LanguagesImpl=re.BulkUnregistration=re.BulkRegistration=re.ErrorMessageTracker=void 0;var A=Ne(),Qe=nr(),os=zo(),K=Qa(),ch=Za(),uh=ec(),lh=tc(),dh=Jo(),fh=nc(),hh=rc(),gh=ic(),ph=oc(),mh=ac(),yh=cc(),vh=uc(),Th=rs(),bh=dc();function is(t){if(t!==null)return t}var ss=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};re.ErrorMessageTracker=ss;var Ur=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(A.MessageType.Error,e)}warn(e){this.send(A.MessageType.Warning,e)}info(e){this.send(A.MessageType.Info,e)}log(e){this.send(A.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(A.LogMessageNotification.type,{type:e,message:n}).catch(()=>{(0,A.RAL)().console.error("Sending log message failed")})}},as=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:A.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(A.ShowMessageRequest.type,r).then(is)}showWarningMessage(e,...n){let r={type:A.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(A.ShowMessageRequest.type,r).then(is)}showInformationMessage(e,...n){let r={type:A.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(A.ShowMessageRequest.type,r).then(is)}},fc=(0,fh.ShowDocumentFeature)((0,K.ProgressFeature)(as)),_h;(function(t){function e(){return new Vr}t.create=e})(_h=re.BulkRegistration||(re.BulkRegistration={}));var Vr=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=Qe.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=os.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},Rh;(function(t){function e(){return new $n(void 0,[])}t.create=e})(Rh=re.BulkUnregistration||(re.BulkUnregistration={}));var $n=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(A.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=Qe.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(A.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},a=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},Br=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof Vr?this.registerMany(e):e instanceof $n?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=Qe.string(n)?n:n.method,a=os.generateUuid(),f={registrations:[{id:a,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(A.RegistrationRequest.type,f).then(T=>(e.add({id:a,method:i}),e),T=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(T)))}registerSingle2(e,n){let r=Qe.string(e)?e:e.method,i=os.generateUuid(),a={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(A.RegistrationRequest.type,a).then(f=>A.Disposable.create(()=>{this.unregisterSingle(i,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),f=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(f)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(A.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(A.RegistrationRequest.type,n).then(()=>new $n(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},cs=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(A.ApplyWorkspaceEditRequest.type,r)}},hc=(0,hh.FileOperationsFeature)((0,uh.WorkspaceFoldersFeature)((0,ch.ConfigurationFeature)(cs))),$r=class{constructor(){this._trace=A.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==A.Trace.Off&&this.connection.sendNotification(A.LogTraceNotification.type,{message:e,verbose:this._trace===A.Trace.Verbose?n:void 0}).catch(()=>{})}},zr=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(A.TelemetryEventNotification.type,e).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},Gr=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,K.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,K.attachPartialResult)(this.connection,n)}};re._LanguagesImpl=Gr;var gc=(0,bh.MonikerFeature)((0,vh.DiagnosticFeature)((0,yh.InlayHintFeature)((0,mh.InlineValueFeature)((0,ph.TypeHierarchyFeature)((0,gh.LinkedEditingRangeFeature)((0,dh.SemanticTokensFeature)((0,lh.CallHierarchyFeature)(Gr)))))))),Kr=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,K.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,K.attachPartialResult)(this.connection,n)}};re._NotebooksImpl=Kr;var pc=(0,Th.NotebookSyncFeature)(Kr);function mc(t,e){return function(n){return e(t(n))}}re.combineConsoleFeatures=mc;function yc(t,e){return function(n){return e(t(n))}}re.combineTelemetryFeatures=yc;function vc(t,e){return function(n){return e(t(n))}}re.combineTracerFeatures=vc;function Tc(t,e){return function(n){return e(t(n))}}re.combineClientFeatures=Tc;function bc(t,e){return function(n){return e(t(n))}}re.combineWindowFeatures=bc;function _c(t,e){return function(n){return e(t(n))}}re.combineWorkspaceFeatures=_c;function Rc(t,e){return function(n){return e(t(n))}}re.combineLanguagesFeatures=Rc;function Cc(t,e){return function(n){return e(t(n))}}re.combineNotebooksFeatures=Cc;function Ch(t,e){function n(i,a,f){return i&&a?f(i,a):i||a}return{__brand:"features",console:n(t.console,e.console,mc),tracer:n(t.tracer,e.tracer,vc),telemetry:n(t.telemetry,e.telemetry,yc),client:n(t.client,e.client,Tc),window:n(t.window,e.window,bc),workspace:n(t.workspace,e.workspace,_c),languages:n(t.languages,e.languages,Rc),notebooks:n(t.notebooks,e.notebooks,Cc)}}re.combineFeatures=Ch;function Dh(t,e,n){let r=n&&n.console?new(n.console(Ur)):new Ur,i=t(r);r.rawAttach(i);let a=n&&n.tracer?new(n.tracer($r)):new $r,f=n&&n.telemetry?new(n.telemetry(zr)):new zr,T=n&&n.client?new(n.client(Br)):new Br,l=n&&n.window?new(n.window(fc)):new fc,p=n&&n.workspace?new(n.workspace(hc)):new hc,y=n&&n.languages?new(n.languages(gc)):new gc,C=n&&n.notebooks?new(n.notebooks(pc)):new pc,R=[r,a,f,T,l,p,y,C];function k(b){return b instanceof Promise?b:Qe.thenable(b)?new Promise((m,w)=>{b.then($=>m($),$=>w($))}):Promise.resolve(b)}let x,S,j,M={listen:()=>i.listen(),sendRequest:(b,...m)=>i.sendRequest(Qe.string(b)?b:b.method,...m),onRequest:(b,m)=>i.onRequest(b,m),sendNotification:(b,m)=>{let w=Qe.string(b)?b:b.method;return arguments.length===1?i.sendNotification(w):i.sendNotification(w,m)},onNotification:(b,m)=>i.onNotification(b,m),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:b=>(S=b,{dispose:()=>{S=void 0}}),onInitialized:b=>i.onNotification(A.InitializedNotification.type,b),onShutdown:b=>(x=b,{dispose:()=>{x=void 0}}),onExit:b=>(j=b,{dispose:()=>{j=void 0}}),get console(){return r},get telemetry(){return f},get tracer(){return a},get client(){return T},get window(){return l},get workspace(){return p},get languages(){return y},get notebooks(){return C},onDidChangeConfiguration:b=>i.onNotification(A.DidChangeConfigurationNotification.type,b),onDidChangeWatchedFiles:b=>i.onNotification(A.DidChangeWatchedFilesNotification.type,b),__textDocumentSync:void 0,onDidOpenTextDocument:b=>i.onNotification(A.DidOpenTextDocumentNotification.type,b),onDidChangeTextDocument:b=>i.onNotification(A.DidChangeTextDocumentNotification.type,b),onDidCloseTextDocument:b=>i.onNotification(A.DidCloseTextDocumentNotification.type,b),onWillSaveTextDocument:b=>i.onNotification(A.WillSaveTextDocumentNotification.type,b),onWillSaveTextDocumentWaitUntil:b=>i.onRequest(A.WillSaveTextDocumentWaitUntilRequest.type,b),onDidSaveTextDocument:b=>i.onNotification(A.DidSaveTextDocumentNotification.type,b),sendDiagnostics:b=>i.sendNotification(A.PublishDiagnosticsNotification.type,b),onHover:b=>i.onRequest(A.HoverRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),void 0)),onCompletion:b=>i.onRequest(A.CompletionRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onCompletionResolve:b=>i.onRequest(A.CompletionResolveRequest.type,b),onSignatureHelp:b=>i.onRequest(A.SignatureHelpRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),void 0)),onDeclaration:b=>i.onRequest(A.DeclarationRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onDefinition:b=>i.onRequest(A.DefinitionRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onTypeDefinition:b=>i.onRequest(A.TypeDefinitionRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onImplementation:b=>i.onRequest(A.ImplementationRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onReferences:b=>i.onRequest(A.ReferencesRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onDocumentHighlight:b=>i.onRequest(A.DocumentHighlightRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onDocumentSymbol:b=>i.onRequest(A.DocumentSymbolRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onWorkspaceSymbol:b=>i.onRequest(A.WorkspaceSymbolRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onWorkspaceSymbolResolve:b=>i.onRequest(A.WorkspaceSymbolResolveRequest.type,b),onCodeAction:b=>i.onRequest(A.CodeActionRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onCodeActionResolve:b=>i.onRequest(A.CodeActionResolveRequest.type,(m,w)=>b(m,w)),onCodeLens:b=>i.onRequest(A.CodeLensRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onCodeLensResolve:b=>i.onRequest(A.CodeLensResolveRequest.type,(m,w)=>b(m,w)),onDocumentFormatting:b=>i.onRequest(A.DocumentFormattingRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),void 0)),onDocumentRangeFormatting:b=>i.onRequest(A.DocumentRangeFormattingRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),void 0)),onDocumentOnTypeFormatting:b=>i.onRequest(A.DocumentOnTypeFormattingRequest.type,(m,w)=>b(m,w)),onRenameRequest:b=>i.onRequest(A.RenameRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),void 0)),onPrepareRename:b=>i.onRequest(A.PrepareRenameRequest.type,(m,w)=>b(m,w)),onDocumentLinks:b=>i.onRequest(A.DocumentLinkRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onDocumentLinkResolve:b=>i.onRequest(A.DocumentLinkResolveRequest.type,(m,w)=>b(m,w)),onDocumentColor:b=>i.onRequest(A.DocumentColorRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onColorPresentation:b=>i.onRequest(A.ColorPresentationRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onFoldingRanges:b=>i.onRequest(A.FoldingRangeRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onSelectionRanges:b=>i.onRequest(A.SelectionRangeRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),(0,K.attachPartialResult)(i,m))),onExecuteCommand:b=>i.onRequest(A.ExecuteCommandRequest.type,(m,w)=>b(m,w,(0,K.attachWorkDone)(i,m),void 0)),dispose:()=>i.dispose()};for(let b of R)b.attach(M);return i.onRequest(A.InitializeRequest.type,b=>{e.initialize(b),Qe.string(b.trace)&&(a.trace=A.Trace.fromString(b.trace));for(let m of R)m.initialize(b.capabilities);if(S){let m=S(b,new A.CancellationTokenSource().token,(0,K.attachWorkDone)(i,b),void 0);return k(m).then(w=>{if(w instanceof A.ResponseError)return w;let $=w;$||($={capabilities:{}});let Z=$.capabilities;Z||(Z={},$.capabilities=Z),Z.textDocumentSync===void 0||Z.textDocumentSync===null?Z.textDocumentSync=Qe.number(M.__textDocumentSync)?M.__textDocumentSync:A.TextDocumentSyncKind.None:!Qe.number(Z.textDocumentSync)&&!Qe.number(Z.textDocumentSync.change)&&(Z.textDocumentSync.change=Qe.number(M.__textDocumentSync)?M.__textDocumentSync:A.TextDocumentSyncKind.None);for(let ae of R)ae.fillServerCapabilities(Z);return $})}else{let m={capabilities:{textDocumentSync:A.TextDocumentSyncKind.None}};for(let w of R)w.fillServerCapabilities(m.capabilities);return m}}),i.onRequest(A.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,x)return x(new A.CancellationTokenSource().token)}),i.onNotification(A.ExitNotification.type,()=>{try{j&&j()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(A.SetTraceNotification.type,b=>{a.trace=A.Trace.fromString(b.value)}),M}re.createConnection=Dh});var kc=L($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.resolveModulePath=$e.FileSystem=$e.resolveGlobalYarnPath=$e.resolveGlobalNodePath=$e.resolve=$e.uriToFilePath=void 0;var kh=require("url"),lt=require("path"),ls=require("fs"),hs=require("child_process");function Eh(t){let e=kh.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let a=n[0],f=n[1];a.length===0&&f.length>1&&f[1]===":"&&n.shift()}return lt.normalize(n.join("/"))}$e.uriToFilePath=Eh;function ds(){return process.platform==="win32"}function Xr(t,e,n,r){let i="NODE_PATH",a=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((f,T)=>{let l=process.env,p=Object.create(null);Object.keys(l).forEach(y=>p[y]=l[y]),e&&ls.existsSync(e)&&(p[i]?p[i]=e+lt.delimiter+p[i]:p[i]=e,r&&r(`NODE_PATH value is: ${p[i]}`)),p.ELECTRON_RUN_AS_NODE="1";try{let y=(0,hs.fork)("",[],{cwd:n,env:p,execArgv:["-e",a]});if(y.pid===void 0){T(new Error(`Starting process to resolve node module  ${t} failed`));return}y.on("error",R=>{T(R)}),y.on("message",R=>{R.c==="r"&&(y.send({c:"e"}),R.s?f(R.r):T(new Error(`Failed to resolve module: ${t}`)))});let C={c:"rs",a:t};y.send(C)}catch(y){T(y)}})}$e.resolve=Xr;function fs(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(a=>n[a]=process.env[a]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};ds()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let a=(0,hs.spawnSync)(e,["config","get","prefix"],r).stdout;if(!a){t&&t("'npm config get prefix' didn't return a value.");return}let f=a.trim();return t&&t(`'npm config get prefix' value is: ${f}`),f.length>0?ds()?lt.join(f,"node_modules"):lt.join(f,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}$e.resolveGlobalNodePath=fs;function Nh(t){let e="yarn",n={encoding:"utf8"};ds()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=(0,hs.spawnSync)(e,["global","dir","--json"],n),a=i.stdout;if(!a){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let f=a.trim().split(/\r?\n/);for(let T of f)try{let l=JSON.parse(T);if(l.type==="log")return lt.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}$e.resolveGlobalYarnPath=Nh;var Dc;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!ls.existsSync(__filename.toUpperCase())||!ls.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,a){return n()?lt.normalize(a).indexOf(lt.normalize(i))===0:lt.normalize(a).toLowerCase().indexOf(lt.normalize(i).toLowerCase())===0}t.isParent=r})(Dc=$e.FileSystem||($e.FileSystem={}));function Sh(t,e,n,r){return n?(lt.isAbsolute(n)||(n=lt.join(t,n)),Xr(e,n,n,r).then(i=>Dc.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>Xr(e,fs(r),t,r))):Xr(e,fs(r),t,r)}$e.resolveModulePath=Sh});var gs=L((pp,Ec)=>{"use strict";Ec.exports=Ne()});var Sc=L(Fe=>{"use strict";var wh=Fe&&Fe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Nc=Fe&&Fe.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&wh(e,t,n)};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.ProposedFeatures=Fe.NotebookDocuments=Fe.TextDocuments=Fe.SemanticTokensBuilder=void 0;var Ph=Jo();Object.defineProperty(Fe,"SemanticTokensBuilder",{enumerable:!0,get:function(){return Ph.SemanticTokensBuilder}});Nc(Ne(),Fe);var xh=ts();Object.defineProperty(Fe,"TextDocuments",{enumerable:!0,get:function(){return xh.TextDocuments}});var Oh=rs();Object.defineProperty(Fe,"NotebookDocuments",{enumerable:!0,get:function(){return Oh.NotebookDocuments}});Nc(us(),Fe);var Ih;(function(t){t.all={__brand:"features"}})(Ih=Fe.ProposedFeatures||(Fe.ProposedFeatures={}))});var Zt=L(Ge=>{"use strict";var qh=Ge&&Ge.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Pc=Ge&&Ge.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&qh(e,t,n)};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.createConnection=Ge.Files=void 0;var ps=nr(),Mh=us(),zn=kc(),Qt=gs();Pc(gs(),Ge);Pc(Sc(),Ge);var Fh;(function(t){t.uriToFilePath=zn.uriToFilePath,t.resolveGlobalNodePath=zn.resolveGlobalNodePath,t.resolveGlobalYarnPath=zn.resolveGlobalYarnPath,t.resolve=zn.resolve,t.resolveModulePath=zn.resolveModulePath})(Fh=Ge.Files||(Ge.Files={}));var wc;function Yr(){if(wc!==void 0)try{wc.end()}catch{}}var bn=!1,xc;function Ah(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(xc=setInterval(()=>{try{process.kill(r,0)}catch{Yr(),process.exit(bn?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}Ah();var Lh={initialize:t=>{let e=t.processId;ps.number(e)&&xc===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(bn?0:1)}},3e3)},get shutdownReceived(){return bn},set shutdownReceived(t){bn=t},exit:t=>{Yr(),process.exit(t)}};function jh(t,e,n,r){let i,a,f,T;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Qt.ConnectionStrategy.is(t)||Qt.ConnectionOptions.is(t)?T=t:(a=t,f=e,T=n),Wh(a,f,T,i)}Ge.createConnection=jh;function Wh(t,e,n,r){if(!t&&!e&&process.argv.length>2){let T,l,p=process.argv.slice(2);for(let y=0;y<p.length;y++){let C=p[y];if(C==="--node-ipc"){t=new Qt.IPCMessageReader(process),e=new Qt.IPCMessageWriter(process);break}else if(C==="--stdio"){t=process.stdin,e=process.stdout;break}else if(C==="--socket"){T=parseInt(p[y+1]);break}else if(C==="--pipe"){l=p[y+1];break}else{var i=C.split("=");if(i[0]==="--socket"){T=parseInt(i[1]);break}else if(i[0]==="--pipe"){l=i[1];break}}}if(T){let y=(0,Qt.createServerSocketTransport)(T);t=y[0],e=y[1]}else if(l){let y=(0,Qt.createServerPipeTransport)(l);t=y[0],e=y[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+a);if(!e)throw new Error("Connection output stream is not set. "+a);if(ps.func(t.read)&&ps.func(t.on)){let T=t;T.on("end",()=>{Yr(),process.exit(bn?0:1)}),T.on("close",()=>{Yr(),process.exit(bn?0:1)})}let f=T=>(0,Qt.createProtocolConnection)(t,e,T,n);return(0,Mh.createConnection)(f,Lh,r)}});var ms=L((vp,Oc)=>{"use strict";Oc.exports=Zt()});var Zr=L((Qr,Jr)=>{var Hh=Qr&&Qr.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))};(function(t){if(typeof Jr=="object"&&typeof Jr.exports=="object"){var e=t(require,Qr);e!==void 0&&(Jr.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=void 0;var n=function(){function l(p,y,C,R){this._uri=p,this._languageId=y,this._version=C,this._content=R,this._lineOffsets=void 0}return Object.defineProperty(l.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),l.prototype.getText=function(p){if(p){var y=this.offsetAt(p.start),C=this.offsetAt(p.end);return this._content.substring(y,C)}return this._content},l.prototype.update=function(p,y){for(var C=0,R=p;C<R.length;C++){var k=R[C];if(l.isIncremental(k)){var x=f(k.range),S=this.offsetAt(x.start),j=this.offsetAt(x.end);this._content=this._content.substring(0,S)+k.text+this._content.substring(j,this._content.length);var M=Math.max(x.start.line,0),b=Math.max(x.end.line,0),m=this._lineOffsets,w=a(k.text,!1,S);if(b-M===w.length)for(var $=0,Z=w.length;$<Z;$++)m[$+M+1]=w[$];else w.length<1e4?m.splice.apply(m,Hh([M+1,b-M],w,!1)):this._lineOffsets=m=m.slice(0,M+1).concat(w,m.slice(b+1));var ae=k.text.length-(j-S);if(ae!==0)for(var $=M+1+w.length,Z=m.length;$<Z;$++)m[$]=m[$]+ae}else if(l.isFull(k))this._content=k.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=y},l.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=a(this._content,!0)),this._lineOffsets},l.prototype.positionAt=function(p){p=Math.max(Math.min(p,this._content.length),0);var y=this.getLineOffsets(),C=0,R=y.length;if(R===0)return{line:0,character:p};for(;C<R;){var k=Math.floor((C+R)/2);y[k]>p?R=k:C=k+1}var x=C-1;return{line:x,character:p-y[x]}},l.prototype.offsetAt=function(p){var y=this.getLineOffsets();if(p.line>=y.length)return this._content.length;if(p.line<0)return 0;var C=y[p.line],R=p.line+1<y.length?y[p.line+1]:this._content.length;return Math.max(Math.min(C+p.character,R),C)},Object.defineProperty(l.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),l.isIncremental=function(p){var y=p;return y!=null&&typeof y.text=="string"&&y.range!==void 0&&(y.rangeLength===void 0||typeof y.rangeLength=="number")},l.isFull=function(p){var y=p;return y!=null&&typeof y.text=="string"&&y.range===void 0&&y.rangeLength===void 0},l}(),r;(function(l){function p(R,k,x,S){return new n(R,k,x,S)}l.create=p;function y(R,k,x){if(R instanceof n)return R.update(k,x),R;throw new Error("TextDocument.update: document must be created by TextDocument.create")}l.update=y;function C(R,k){for(var x=R.getText(),S=i(k.map(T),function(Z,ae){var xe=Z.range.start.line-ae.range.start.line;return xe===0?Z.range.start.character-ae.range.start.character:xe}),j=0,M=[],b=0,m=S;b<m.length;b++){var w=m[b],$=R.offsetAt(w.range.start);if($<j)throw new Error("Overlapping edit");$>j&&M.push(x.substring(j,$)),w.newText.length&&M.push(w.newText),j=R.offsetAt(w.range.end)}return M.push(x.substr(j)),M.join("")}l.applyEdits=C})(r=e.TextDocument||(e.TextDocument={}));function i(l,p){if(l.length<=1)return l;var y=l.length/2|0,C=l.slice(0,y),R=l.slice(y);i(C,p),i(R,p);for(var k=0,x=0,S=0;k<C.length&&x<R.length;){var j=p(C[k],R[x]);j<=0?l[S++]=C[k++]:l[S++]=R[x++]}for(;k<C.length;)l[S++]=C[k++];for(;x<R.length;)l[S++]=R[x++];return l}function a(l,p,y){y===void 0&&(y=0);for(var C=p?[y]:[],R=0;R<l.length;R++){var k=l.charCodeAt(R);(k===13||k===10)&&(k===13&&R+1<l.length&&l.charCodeAt(R+1)===10&&R++,C.push(y+R+1))}return C}function f(l){var p=l.start,y=l.end;return p.line>y.line||p.line===y.line&&p.character>y.character?{start:y,end:p}:l}function T(l){var p=f(l.range);return p!==l.range?{newText:l.newText,range:p}:l}})});var ru=L((Kn,Rs)=>{(function(t,e){if(typeof Kn=="object"&&typeof Rs=="object")Rs.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var n=e();for(var r in n)(typeof Kn=="object"?Kn:t)[r]=n[r]}})(Kn,()=>(()=>{"use strict";var t={470:i=>{function a(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function f(l,p){for(var y,C="",R=0,k=-1,x=0,S=0;S<=l.length;++S){if(S<l.length)y=l.charCodeAt(S);else{if(y===47)break;y=47}if(y===47){if(!(k===S-1||x===1))if(k!==S-1&&x===2){if(C.length<2||R!==2||C.charCodeAt(C.length-1)!==46||C.charCodeAt(C.length-2)!==46){if(C.length>2){var j=C.lastIndexOf("/");if(j!==C.length-1){j===-1?(C="",R=0):R=(C=C.slice(0,j)).length-1-C.lastIndexOf("/"),k=S,x=0;continue}}else if(C.length===2||C.length===1){C="",R=0,k=S,x=0;continue}}p&&(C.length>0?C+="/..":C="..",R=2)}else C.length>0?C+="/"+l.slice(k+1,S):C=l.slice(k+1,S),R=S-k-1;k=S,x=0}else y===46&&x!==-1?++x:x=-1}return C}var T={resolve:function(){for(var l,p="",y=!1,C=arguments.length-1;C>=-1&&!y;C--){var R;C>=0?R=arguments[C]:(l===void 0&&(l=process.cwd()),R=l),a(R),R.length!==0&&(p=R+"/"+p,y=R.charCodeAt(0)===47)}return p=f(p,!y),y?p.length>0?"/"+p:"/":p.length>0?p:"."},normalize:function(l){if(a(l),l.length===0)return".";var p=l.charCodeAt(0)===47,y=l.charCodeAt(l.length-1)===47;return(l=f(l,!p)).length!==0||p||(l="."),l.length>0&&y&&(l+="/"),p?"/"+l:l},isAbsolute:function(l){return a(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,p=0;p<arguments.length;++p){var y=arguments[p];a(y),y.length>0&&(l===void 0?l=y:l+="/"+y)}return l===void 0?".":T.normalize(l)},relative:function(l,p){if(a(l),a(p),l===p||(l=T.resolve(l))===(p=T.resolve(p)))return"";for(var y=1;y<l.length&&l.charCodeAt(y)===47;++y);for(var C=l.length,R=C-y,k=1;k<p.length&&p.charCodeAt(k)===47;++k);for(var x=p.length-k,S=R<x?R:x,j=-1,M=0;M<=S;++M){if(M===S){if(x>S){if(p.charCodeAt(k+M)===47)return p.slice(k+M+1);if(M===0)return p.slice(k+M)}else R>S&&(l.charCodeAt(y+M)===47?j=M:M===0&&(j=0));break}var b=l.charCodeAt(y+M);if(b!==p.charCodeAt(k+M))break;b===47&&(j=M)}var m="";for(M=y+j+1;M<=C;++M)M!==C&&l.charCodeAt(M)!==47||(m.length===0?m+="..":m+="/..");return m.length>0?m+p.slice(k+j):(k+=j,p.charCodeAt(k)===47&&++k,p.slice(k))},_makeLong:function(l){return l},dirname:function(l){if(a(l),l.length===0)return".";for(var p=l.charCodeAt(0),y=p===47,C=-1,R=!0,k=l.length-1;k>=1;--k)if((p=l.charCodeAt(k))===47){if(!R){C=k;break}}else R=!1;return C===-1?y?"/":".":y&&C===1?"//":l.slice(0,C)},basename:function(l,p){if(p!==void 0&&typeof p!="string")throw new TypeError('"ext" argument must be a string');a(l);var y,C=0,R=-1,k=!0;if(p!==void 0&&p.length>0&&p.length<=l.length){if(p.length===l.length&&p===l)return"";var x=p.length-1,S=-1;for(y=l.length-1;y>=0;--y){var j=l.charCodeAt(y);if(j===47){if(!k){C=y+1;break}}else S===-1&&(k=!1,S=y+1),x>=0&&(j===p.charCodeAt(x)?--x==-1&&(R=y):(x=-1,R=S))}return C===R?R=S:R===-1&&(R=l.length),l.slice(C,R)}for(y=l.length-1;y>=0;--y)if(l.charCodeAt(y)===47){if(!k){C=y+1;break}}else R===-1&&(k=!1,R=y+1);return R===-1?"":l.slice(C,R)},extname:function(l){a(l);for(var p=-1,y=0,C=-1,R=!0,k=0,x=l.length-1;x>=0;--x){var S=l.charCodeAt(x);if(S!==47)C===-1&&(R=!1,C=x+1),S===46?p===-1?p=x:k!==1&&(k=1):p!==-1&&(k=-1);else if(!R){y=x+1;break}}return p===-1||C===-1||k===0||k===1&&p===C-1&&p===y+1?"":l.slice(p,C)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return function(p,y){var C=y.dir||y.root,R=y.base||(y.name||"")+(y.ext||"");return C?C===y.root?C+R:C+"/"+R:R}(0,l)},parse:function(l){a(l);var p={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return p;var y,C=l.charCodeAt(0),R=C===47;R?(p.root="/",y=1):y=0;for(var k=-1,x=0,S=-1,j=!0,M=l.length-1,b=0;M>=y;--M)if((C=l.charCodeAt(M))!==47)S===-1&&(j=!1,S=M+1),C===46?k===-1?k=M:b!==1&&(b=1):k!==-1&&(b=-1);else if(!j){x=M+1;break}return k===-1||S===-1||b===0||b===1&&k===S-1&&k===x+1?S!==-1&&(p.base=p.name=x===0&&R?l.slice(1,S):l.slice(x,S)):(x===0&&R?(p.name=l.slice(1,k),p.base=l.slice(1,S)):(p.name=l.slice(x,k),p.base=l.slice(x,S)),p.ext=l.slice(k,S)),x>0?p.dir=l.slice(0,x-1):R&&(p.dir="/"),p},sep:"/",delimiter:":",win32:null,posix:null};T.posix=T,i.exports=T},674:(i,a)=>{if(Object.defineProperty(a,"__esModule",{value:!0}),a.isWindows=void 0,typeof process=="object")a.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var f=navigator.userAgent;a.isWindows=f.indexOf("Windows")>=0}},796:function(i,a,f){var T,l,p=this&&this.__extends||(T=function(O,P){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,W){F.__proto__=W}||function(F,W){for(var oe in W)Object.prototype.hasOwnProperty.call(W,oe)&&(F[oe]=W[oe])},T(O,P)},function(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function F(){this.constructor=O}T(O,P),O.prototype=P===null?Object.create(P):(F.prototype=P.prototype,new F)});Object.defineProperty(a,"__esModule",{value:!0}),a.uriToFsPath=a.URI=void 0;var y=f(674),C=/^\w[\w\d+.-]*$/,R=/^\//,k=/^\/\//;function x(O,P){if(!O.scheme&&P)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(O.authority,'", path: "').concat(O.path,'", query: "').concat(O.query,'", fragment: "').concat(O.fragment,'"}'));if(O.scheme&&!C.test(O.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(O.path){if(O.authority){if(!R.test(O.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(k.test(O.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var S="",j="/",M=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,b=function(){function O(P,F,W,oe,ne,G){G===void 0&&(G=!1),typeof P=="object"?(this.scheme=P.scheme||S,this.authority=P.authority||S,this.path=P.path||S,this.query=P.query||S,this.fragment=P.fragment||S):(this.scheme=function(Ee,we){return Ee||we?Ee:"file"}(P,G),this.authority=F||S,this.path=function(Ee,we){switch(Ee){case"https":case"http":case"file":we?we[0]!==j&&(we=j+we):we=j}return we}(this.scheme,W||S),this.query=oe||S,this.fragment=ne||S,x(this,G))}return O.isUri=function(P){return P instanceof O||!!P&&typeof P.authority=="string"&&typeof P.fragment=="string"&&typeof P.path=="string"&&typeof P.query=="string"&&typeof P.scheme=="string"&&typeof P.fsPath=="string"&&typeof P.with=="function"&&typeof P.toString=="function"},Object.defineProperty(O.prototype,"fsPath",{get:function(){return xe(this,!1)},enumerable:!1,configurable:!0}),O.prototype.with=function(P){if(!P)return this;var F=P.scheme,W=P.authority,oe=P.path,ne=P.query,G=P.fragment;return F===void 0?F=this.scheme:F===null&&(F=S),W===void 0?W=this.authority:W===null&&(W=S),oe===void 0?oe=this.path:oe===null&&(oe=S),ne===void 0?ne=this.query:ne===null&&(ne=S),G===void 0?G=this.fragment:G===null&&(G=S),F===this.scheme&&W===this.authority&&oe===this.path&&ne===this.query&&G===this.fragment?this:new w(F,W,oe,ne,G)},O.parse=function(P,F){F===void 0&&(F=!1);var W=M.exec(P);return W?new w(W[2]||S,Se(W[4]||S),Se(W[5]||S),Se(W[7]||S),Se(W[9]||S),F):new w(S,S,S,S,S)},O.file=function(P){var F=S;if(y.isWindows&&(P=P.replace(/\\/g,j)),P[0]===j&&P[1]===j){var W=P.indexOf(j,2);W===-1?(F=P.substring(2),P=j):(F=P.substring(2,W),P=P.substring(W)||j)}return new w("file",F,P,S,S)},O.from=function(P){var F=new w(P.scheme,P.authority,P.path,P.query,P.fragment);return x(F,!0),F},O.prototype.toString=function(P){return P===void 0&&(P=!1),ft(this,P)},O.prototype.toJSON=function(){return this},O.revive=function(P){if(P){if(P instanceof O)return P;var F=new w(P);return F._formatted=P.external,F._fsPath=P._sep===m?P.fsPath:null,F}return P},O}();a.URI=b;var m=y.isWindows?1:void 0,w=function(O){function P(){var F=O!==null&&O.apply(this,arguments)||this;return F._formatted=null,F._fsPath=null,F}return p(P,O),Object.defineProperty(P.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=xe(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),P.prototype.toString=function(F){return F===void 0&&(F=!1),F?ft(this,!0):(this._formatted||(this._formatted=ft(this,!1)),this._formatted)},P.prototype.toJSON=function(){var F={$mid:1};return this._fsPath&&(F.fsPath=this._fsPath,F._sep=m),this._formatted&&(F.external=this._formatted),this.path&&(F.path=this.path),this.scheme&&(F.scheme=this.scheme),this.authority&&(F.authority=this.authority),this.query&&(F.query=this.query),this.fragment&&(F.fragment=this.fragment),F},P}(b),$=((l={})[58]="%3A",l[47]="%2F",l[63]="%3F",l[35]="%23",l[91]="%5B",l[93]="%5D",l[64]="%40",l[33]="%21",l[36]="%24",l[38]="%26",l[39]="%27",l[40]="%28",l[41]="%29",l[42]="%2A",l[43]="%2B",l[44]="%2C",l[59]="%3B",l[61]="%3D",l[32]="%20",l);function Z(O,P,F){for(var W=void 0,oe=-1,ne=0;ne<O.length;ne++){var G=O.charCodeAt(ne);if(G>=97&&G<=122||G>=65&&G<=90||G>=48&&G<=57||G===45||G===46||G===95||G===126||P&&G===47||F&&G===91||F&&G===93||F&&G===58)oe!==-1&&(W+=encodeURIComponent(O.substring(oe,ne)),oe=-1),W!==void 0&&(W+=O.charAt(ne));else{W===void 0&&(W=O.substr(0,ne));var Ee=$[G];Ee!==void 0?(oe!==-1&&(W+=encodeURIComponent(O.substring(oe,ne)),oe=-1),W+=Ee):oe===-1&&(oe=ne)}}return oe!==-1&&(W+=encodeURIComponent(O.substring(oe))),W!==void 0?W:O}function ae(O){for(var P=void 0,F=0;F<O.length;F++){var W=O.charCodeAt(F);W===35||W===63?(P===void 0&&(P=O.substr(0,F)),P+=$[W]):P!==void 0&&(P+=O[F])}return P!==void 0?P:O}function xe(O,P){var F;return F=O.authority&&O.path.length>1&&O.scheme==="file"?"//".concat(O.authority).concat(O.path):O.path.charCodeAt(0)===47&&(O.path.charCodeAt(1)>=65&&O.path.charCodeAt(1)<=90||O.path.charCodeAt(1)>=97&&O.path.charCodeAt(1)<=122)&&O.path.charCodeAt(2)===58?P?O.path.substr(1):O.path[1].toLowerCase()+O.path.substr(2):O.path,y.isWindows&&(F=F.replace(/\//g,"\\")),F}function ft(O,P){var F=P?ae:Z,W="",oe=O.scheme,ne=O.authority,G=O.path,Ee=O.query,we=O.fragment;if(oe&&(W+=oe,W+=":"),(ne||oe==="file")&&(W+=j,W+=j),ne){var je=ne.indexOf("@");if(je!==-1){var wt=ne.substr(0,je);ne=ne.substr(je+1),(je=wt.lastIndexOf(":"))===-1?W+=F(wt,!1,!1):(W+=F(wt.substr(0,je),!1,!1),W+=":",W+=F(wt.substr(je+1),!1,!0)),W+="@"}(je=(ne=ne.toLowerCase()).lastIndexOf(":"))===-1?W+=F(ne,!1,!0):(W+=F(ne.substr(0,je),!1,!0),W+=ne.substr(je))}if(G){if(G.length>=3&&G.charCodeAt(0)===47&&G.charCodeAt(2)===58)(Ze=G.charCodeAt(1))>=65&&Ze<=90&&(G="/".concat(String.fromCharCode(Ze+32),":").concat(G.substr(3)));else if(G.length>=2&&G.charCodeAt(1)===58){var Ze;(Ze=G.charCodeAt(0))>=65&&Ze<=90&&(G="".concat(String.fromCharCode(Ze+32),":").concat(G.substr(2)))}W+=F(G,!0,!1)}return Ee&&(W+="?",W+=F(Ee,!1,!1)),we&&(W+="#",W+=P?we:Z(we,!1,!1)),W}function ht(O){try{return decodeURIComponent(O)}catch{return O.length>3?O.substr(0,3)+ht(O.substr(3)):O}}a.uriToFsPath=xe;var gt=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Se(O){return O.match(gt)?O.replace(gt,function(P){return ht(P)}):O}},679:function(i,a,f){var T=this&&this.__spreadArray||function(R,k,x){if(x||arguments.length===2)for(var S,j=0,M=k.length;j<M;j++)!S&&j in k||(S||(S=Array.prototype.slice.call(k,0,j)),S[j]=k[j]);return R.concat(S||Array.prototype.slice.call(k))};Object.defineProperty(a,"__esModule",{value:!0}),a.Utils=void 0;var l,p=f(470),y=p.posix||p,C="/";(l=a.Utils||(a.Utils={})).joinPath=function(R){for(var k=[],x=1;x<arguments.length;x++)k[x-1]=arguments[x];return R.with({path:y.join.apply(y,T([R.path],k,!1))})},l.resolvePath=function(R){for(var k=[],x=1;x<arguments.length;x++)k[x-1]=arguments[x];var S=R.path,j=!1;S[0]!==C&&(S=C+S,j=!0);var M=y.resolve.apply(y,T([S],k,!1));return j&&M[0]===C&&!R.authority&&(M=M.substring(1)),R.with({path:M})},l.dirname=function(R){if(R.path.length===0||R.path===C)return R;var k=y.dirname(R.path);return k.length===1&&k.charCodeAt(0)===46&&(k=""),R.with({path:k})},l.basename=function(R){return y.basename(R.path)},l.extname=function(R){return y.extname(R.path)}}},e={};function n(i){var a=e[i];if(a!==void 0)return a.exports;var f=e[i]={exports:{}};return t[i].call(f.exports,f,f.exports,n),f.exports}var r={};return(()=>{var i=r;Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=i.URI=void 0;var a=n(796);Object.defineProperty(i,"URI",{enumerable:!0,get:function(){return a.URI}});var f=n(679);Object.defineProperty(i,"Utils",{enumerable:!0,get:function(){return f.Utils}})})(),r})())});var $h={};fu($h,{connection:()=>Le,docManager:()=>dt,documents:()=>tn,globalSettings:()=>Ht,updateDocumentData:()=>li,visitors:()=>_t});module.exports=hu($h);var Ut=We(ms()),iu=We(Zr());var ii=We(Zt());var J=We(Zt());function ei(){return[{label:"struct",insertText:"struct(${1:var});",insertTextFormat:J.InsertTextFormat.Snippet,kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"[creating structures](https://docs.octave.org/v4.2.1/Creating-Structures.html#Creating-Structures)"}},{label:"for",insertText:"for (${1:var} = ${2})\n	${3}\n\nend",insertTextFormat:J.InsertTextFormat.Snippet,kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"[for loop](https://docs.octave.org/v4.2.0/The-for-Statement.html)"}},{label:"while",kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"[while loop](https://docs.octave.org/v4.2.0/The-while-Statement.html)"}},{label:"if",insertText:`if (\${1:condition})
	\${2}

end`,insertTextFormat:J.InsertTextFormat.Snippet,kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"[if statement](https://docs.octave.org/v4.2.0/The-if-Statement.html)"}},{label:"else",kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"[if statement else clause](https://docs.octave.org/v4.2.0/The-if-Statement.html)"}},{label:"elseif",insertText:"elseif (${1:condition})\n	${2}",insertTextFormat:J.InsertTextFormat.Snippet,kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"[if statement elseif clause](https://docs.octave.org/v4.2.0/The-if-Statement.html)"}},{label:"switch",insertText:`switch (\${1:variable})
	case \${2}
otherwise

end`,insertTextFormat:J.InsertTextFormat.Snippet,kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"[switch statement](https://docs.octave.org/v4.2.0/The-switch-Statement.html)"}},{label:"case",kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"[switch statement case clause](https://docs.octave.org/v4.2.0/The-switch-Statement.html#index-case-statement)"}},{label:"otherwise",kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"[switch statement otherwise clause](https://docs.octave.org/v4.2.0/The-switch-Statement.html#index-otherwise-statement)"}},{label:"break",kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"[break statement](https://docs.octave.org/v4.2.0/The-break-Statement.html#index-break-statement)"}},{label:"continue",kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"[continue statement](https://docs.octave.org/v4.2.0/The-continue-Statement.html#index-continue-statement)"}},{label:"return",kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"return statement"}},{label:"end",kind:J.CompletionItemKind.Keyword,documentation:{kind:J.MarkupKind.Markdown,value:"block end marker"}},{label:"function",kind:J.CompletionItemKind.Keyword,insertText:"function ${1:funcName}(${2:funcArgs})\n	${3:funcBody}\nend",insertTextFormat:J.InsertTextFormat.Snippet,documentation:{kind:J.MarkupKind.Markdown,value:"[block end marker](https://docs.octave.org/v4.2.0/A-Sample-Function-Description.html#A-Sample-Function-Description)"}},{label:"do",kind:J.CompletionItemKind.Keyword,insertText:"do\n	${2:funcBody}\nuntil (${1:condition})",insertTextFormat:J.InsertTextFormat.Snippet,documentation:{kind:J.MarkupKind.Markdown,value:"[block end marker](https://docs.octave.org/v5.2.0/The-do_002duntil-Statement.html)"}}]}var H=We(Zt());function ti(){return[{label:"quad",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:`: q = quad (f, a, b)
: q = quad (f, a, b, tol)
: q = quad (f, a, b, tol, sing)
: [q, ier, nfun, err] = quad (\u2026)
    Numerically evaluate the integral of f from a to b using Fortran routines from QUADPACK.
    f is a function handle, inline function, or a string containing the name of the function to evaluate. The function must have the form y = f (x) where y and x are scalars.
    a and b are the lower and upper limits of integration. Either or both may be infinite.
    The optional argument tol is a vector that specifies the desired accuracy of the result. The first element of the vector is the desired absolute tolerance, and the second element is the desired relative tolerance. To choose a relative test only, set the absolute tolerance to zero. To choose an absolute test only, set the relative tolerance to zero. Both tolerances default to sqrt (eps) or approximately 1.5e^{-8}.
    The optional argument sing is a vector of values at which the integrand is known to be singular.
    The result of the integration is returned in q.
    ier contains an integer error code (0 indicates a successful integration).
    nfun indicates the number of function evaluations that were made.
    err contains an estimate of the error in the solution.
    The function quad_options can set other optional parameters for quad.
    Note: because quad is written in Fortran it cannot be called recursively. This prevents its use in integrating over more than one variable by routines dblquad and triplequad.
    See also: quad_options, quadv, quadl, quadgk, quadcc, trapz, dblquad, triplequad. 

[quad function](https://octave.sourceforge.io/octave/function/quad.html)`}},{label:"inputParser",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:`Not documented 

[inputParser function](https://octave.sourceforge.io/octave/function/inputParser.html)`}},{label:"pol2cart",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:` __[x, y] = pol2cart (theta, r)__
 __[x, y, z] = pol2cart (theta, r, z)__
 __[x, y] = pol2cart (P)__
 __[x, y, z] = pol2cart (P)__
 __C = pol2cart (\u2026)__
    Transform polar or cylindrical coordinates to Cartesian coordinates.
    The inputs theta, r, (and z) must be the same shape, or scalar. If called with a single matrix argument then each row of P represents the polar/(cylindrical) coordinate (theta, r (, z)).
    theta describes the angle relative to the positive x-axis.
    r is the distance to the z-axis (0, 0, z).
    If only a single return argument is requested then return a matrix C where each row represents one Cartesian coordinate (x, y (, z)).
    See also: cart2pol, sph2cart, cart2sph. 

[pol2cart function](https://octave.sourceforge.io/octave/function/pol2cart.html)`}},{label:"deg2rad",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:` __rad = deg2rad (deg)__
    Convert degrees to radians.
    The input deg must be a scalar, vector, or N-dimensional array of double or single floating point values. deg may be complex in which case the real and imaginary components are converted separately.
    The output rad is the same size and shape as deg with degrees converted to radians using the conversion constant pi/180.
    Example:
    deg2rad ([0, 90, 180, 270, 360])
      \u21D2  0.00000   1.57080   3.14159   4.71239   6.28319
    See also: rad2deg. 

[deg2rad function](https://octave.sourceforge.io/octave/function/deg2rad.html)`}},{label:"length",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:` __length (a)__
    Return the length of the object a.
    The length is 0 for empty objects, 1 for scalars, and the number of elements for vectors. For matrix or N-dimensional objects, the length is the number of elements along the largest dimension (equivalent to max (size (a))).
    See also: numel, size. 

[length function](https://octave.sourceforge.io/octave/function/length.html)`}},{label:"struct",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:`  __s = struct ()__
 __s = struct (field1, value1, field2, value2, \u2026)__
 __s = struct (obj)__
    Create a scalar or array structure and initialize its values.
    The field1, field2, \u2026 variables are strings specifying the names of the fields and the value1, value2, \u2026 variables can be of any type.
    If the values are cell arrays, create a structure array and initialize its values. The dimensions of each cell array of values must match. Singleton cells and non-cell values are repeated so that they fill the entire array. If the cells are empty, create an empty structure array with the specified field names.
    If the argument is an object, return the underlying struct.
    Observe that the syntax is optimized for struct arrays. Consider the following examples:
    struct ("foo", 1)
     \u21D2 scalar structure containing the fields:
       foo =  1
    struct ("foo", {})
     \u21D2 0x0 struct array containing the fields:
       foo
    struct ("foo", { {} })
     \u21D2 scalar structure containing the fields:
       foo = {}(0x0)
    struct ("foo", {1, 2, 3})
     \u21D2 1x3 struct array containing the fields:
       foo
    The first case is an ordinary scalar struct\u2014one field, one value. The second produces an empty struct array with one field and no values, since being passed an empty cell array of struct array values. When the value is a cell array containing a single entry, this becomes a scalar struct with that single entry as the value of the field. That single entry happens to be an empty cell array.
    Finally, if the value is a non-scalar cell array, then struct produces a struct array.
    See also: cell2struct, fieldnames, getfield, setfield, rmfield, isfield, orderfields, isstruct, structfun. 

[struct function](https://octave.sourceforge.io/octave/function/struct.html)`}},{label:"addpath",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:` __addpath (dir1, \u2026)__
 __addpath (dir1, \u2026, option)__
    Add named directories to the function search path.
    If option is "-begin" or 0 (the default), prepend the directory name to the current path. If option is "-end" or 1, append the directory name to the current path. Directories added to the path must exist.
    In addition to accepting individual directory arguments, lists of directory names separated by pathsep are also accepted. For example:
    addpath ("dir1:/dir2:~/dir3")
    For each directory that is added, and that was not already in the path, addpath checks for the existence of a file named PKG_ADD (note lack of .m extension) and runs it if it exists.
    See also: path, rmpath, genpath, pathdef, savepath, pathsep. 

[addpath function](https://octave.sourceforge.io/octave/function/addpath.html)`}},{label:"argv",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:`Return the command line arguments passed to Octave.

For example, if you invoked Octave using the command

octave --no-line-editing --silent

argv would return a cell array of strings with the elements --no-line-editing and --silent.

If you write an executable Octave script, argv will return the list of arguments passed to the script. See \u2018Executable Octave Programs\u2019, for an example of how to create an executable Octave script.

[argv function](https://octave.sourceforge.io/octave/function/argv.html)`}},{label:"hold",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:"[hold function](https://octave.sourceforge.io/octave/function/hold.html)"}},{label:"axis",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:"[axis function](https://octave.sourceforge.io/octave/function/axis.html)"}},{label:"printf",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:"[printf function](https://octave.sourceforge.io/octave/function/printf.html)"}},{label:"figure",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:"[figure function](https://octave.sourceforge.io/octave/function/figure.html)"}},{label:"set",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:"[set function](https://octave.sourceforge.io/octave/function/set.html)"}},{label:"grid",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:"[grid function](https://octave.sourceforge.io/octave/function/grid.html)"}},{label:"clc",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:"[clc function](https://octave.sourceforge.io/octave/function/clc.html)"}},{label:"quit",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:"[quit function](https://docs.octave.org/interpreter/Quitting-Octave.html)"}},{label:"help",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:"[help function](https://octave.sourceforge.io/octave/function/help.html)"}},{label:"stem",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:"[stem function](https://octave.sourceforge.io/octave/function/stem.html)"}},{label:"plot",kind:H.CompletionItemKind.Function,documentation:{kind:H.MarkupKind.Markdown,value:"[plot function](https://octave.sourceforge.io/octave/function/plot.html)"}},{label:"abs",kind:H.CompletionItemKind.Function,documentation:"Return the absolute value of a number"},{label:"acos",kind:H.CompletionItemKind.Function,documentation:"Return the arccosine of a number"},{label:"acosh",kind:H.CompletionItemKind.Function,documentation:"Return the hyperbolic arccosine of a number"},{label:"angle",kind:H.CompletionItemKind.Function,documentation:"Return the angle (in radians) of a complex number"},{label:"arg",kind:H.CompletionItemKind.Function,documentation:"Return the argument (in radians) of a complex number"},{label:"asin",kind:H.CompletionItemKind.Function,documentation:"Return the arcsine of a number"},{label:"asinh",kind:H.CompletionItemKind.Function,documentation:"Return the hyperbolic arcsine of a number"},{label:"atan",kind:H.CompletionItemKind.Function,documentation:"Return the arctangent of a number"},{label:"atanh",kind:H.CompletionItemKind.Function,documentation:"Return the hyperbolic arctangent of a number"},{label:"ceil",kind:H.CompletionItemKind.Function,documentation:"Round up to the nearest integer"},{label:"conj",kind:H.CompletionItemKind.Function,documentation:"Return the complex conjugate of a number"},{label:"cos",kind:H.CompletionItemKind.Function,documentation:"Return the cosine of a number"},{label:"cosh",kind:H.CompletionItemKind.Function,documentation:"Return the hyperbolic cosine of a number"},{label:"cot",kind:H.CompletionItemKind.Function,documentation:"Return the cotangent of a number"},{label:"csc",kind:H.CompletionItemKind.Function,documentation:"Return the cosecant of a number"},{label:"det",kind:H.CompletionItemKind.Function,documentation:"Compute the determinant of a matrix"},{label:"diag",kind:H.CompletionItemKind.Function,documentation:"Extract or construct a diagonal matrix"},{label:"diff",kind:H.CompletionItemKind.Function,documentation:"Compute the difference between adjacent elements of a matrix"},{label:"disp",kind:H.CompletionItemKind.Function,documentation:"Display the value of an expression"},{label:"eig",kind:H.CompletionItemKind.Function,documentation:"Compute the eigenvalues and eigenvectors of a matrix"},{label:"eps",kind:H.CompletionItemKind.Constant,documentation:"Return the machine epsilon (smallest number representable in floating point arithmetic)"},{label:"erf",kind:H.CompletionItemKind.Function,documentation:"Return the error function of a number"},{label:"erfc",kind:H.CompletionItemKind.Function,documentation:"Return the complementary error function of a number"}]}var en=We(require("os"));function Uh(){switch(en.platform()){case"linux":return`${en.homedir()}/.octaverc`;case"darwin":return`${en.homedir()}/.octaverc`;case"win32":return`${en.homedir()}\\Documents\\Octave\\octaverc`;default:throw new Error(`Unsupported platform: ${en.platform()}`)}}var ys={maxNumberOfProblems:1e3,maxFilesSearchDepth:3,defaultInitFile:Uh(),enableInitFile:!1,defaultExecPath:"/usr/bin/octave",defaultDebounceTimeMS:1e3};function Ic(){return ei().map(t=>t.label)}function qc(t){return/^[a-zA-Z]+$/.test(t)}function Mc(t){return!isNaN(parseFloat(t))}var Fc=We(require("fs")),Ac=We(require("path"));function Lc(t){let e=[];function n(r){let i=Fc.default.readdirSync(r,{withFileTypes:!0});for(let a of i){let f=Ac.default.join(r,a.name);a.isDirectory()?n(f):a.isFile()&&a.name.endsWith(".m")&&e.push(f)}}return n(t),e}var jc=We(require("fs")),Wc=We(require("path")),Hc=require("url"),Uc=We(Zr());function Vc({workspace:t}){return Lc(t).map(r=>{let i=(0,Hc.pathToFileURL)(Wc.default.resolve(r)).toString(),a=jc.default.readFileSync(r,"utf-8");return Uc.TextDocument.create(i,"octave",1,a)})}function Bc({text:t,characterPosition:e}){let n=0,r=0,i=!1,a=!1;if(e>t.length)return[0,t.length-1];for(let f=0;f<e;f++){let T=t[f];T===`
`&&!i&&!a?(n++,r=0):T==="'"?i=!i:T==='"'?a=!a:r++}return[n,r]}var $c=We(Zt());function ni(t,e){let n=t.getText(),r=/[\w]+/g,i;for(;i=r.exec(n);){let a=i.index,f=i.index+i[0].length,T=$c.Range.create(t.positionAt(a),t.positionAt(f));if(e.line===T.start.line&&e.character>=T.start.character&&e.character<=T.end.character)return T}}var vs=We(ms());var de={OUTPUT_VECTOR:1,EXPECTED_FN_IDENT:2,AST_MAX_STMNT_REACHED:3,FN_CALL_EXCEEDED_CALLS:4,FN_DEF_MISSING_END:5,MISSING_PAREN:6,EXPECTED_COMMA_PAREN:7,UNEXPECTED_NL:50,TOO_MANY_NL:60,STRUCT_BAD_ARGS:140,STRUCT_BAD_COMMA:141,MAX_ITERATION_COMMENTS_BEFORE:2e3,MAX_ITERATION_COMMENTS_AFTER:2001,MAX_ITERATION_PARSING_COMMENT_BEFORE:3001,PARSE_ERR_STMNT:4e3,COULD_NOT_FIND_RPAREN_STMNT:4001,MISSING_CONDITION_ELSEIF:4002,MISSING_END_STMNT:4002,UNEXPECTED_END_OF_STMNT:4003,VISITOR_COULDNT_FIND_REF:1e4,UNEXPECTED_UNDEFINED_TOKEN:2e4};var bt={start:{line:1,character:1},end:{line:1,character:2}};function Ts(t,e){return{range:t?.range??bt,message:t.message,severity:e==="error"?vs.DiagnosticSeverity.Error:vs.DiagnosticSeverity.Warning,source:"mlang"}}function zc(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="";for(let r=0;r<16;r++){let i=Math.floor(Math.random()*e.length);n+=e.charAt(i)}return n}function ri(){return ti().map(t=>t.label)}var Gn=We(Zt());function bs(t){let e=t?.arguments?.length!==void 0&&t?.arguments?.length>0?t.arguments.map((i,a)=>`${a!==0?" ":""}\${${a+1}:${i.name}${i.type!=="DEFAULT_ARGUMENT"?"":` = ${i.content}`}}`):"",n=t.type!=="FUNCTION"?t.name:`${t.name}(${Array.isArray(e)?e.map(i=>i):e});`;return{label:t.name,kind:t.type==="FUNCTION"?Gn.CompletionItemKind.Function:Gn.CompletionItemKind.Variable,documentation:t.documentation,data:t.arguments,insertText:n,insertTextFormat:Gn.InsertTextFormat.Snippet}}var oi=!0,_s=!0,Vh=!1;function Gc({params:t,connection:e}){let n=t.capabilities;oi=!!(n.workspace!=null&&n.workspace.configuration),_s=!!(n.workspace!=null&&n.workspace.workspaceFolders),Vh=!!(n.textDocument?.publishDiagnostics&&n.textDocument.publishDiagnostics.relatedInformation);let r={capabilities:{textDocumentSync:ii.TextDocumentSyncKind.Incremental,completionProvider:{workDoneProgress:!0,resolveProvider:!0,completionItem:{labelDetailsSupport:!0},triggerCharacters:["qwertyuiopasdfghjkl\xF1zxcvbnm"]},definitionProvider:{workDoneProgress:!0},referencesProvider:{workDoneProgress:!0}}};_s&&(r.capabilities.workspace={workspaceFolders:{supported:!0}});let{workspaceFolders:i}=t;return i&&i.length>0&&i[0]?.name&&Vc({workspace:i[0].name}).forEach(f=>dt.set(f.uri,f.getText())),r}async function Kc({params:t,connection:e}){e.console.log("Mlang Initialized correctly!"),oi&&await e.client.register(ii.DidChangeConfigurationNotification.type,void 0),_s&&e.workspace.onDidChangeWorkspaceFolders(n=>{e.console.log("Workspace folder change event received.")})}function Xc(t,e){let n=[],r=t.uri,i=ni(t,e);if(i===void 0)return[];let a=_t.get(r);if(a?.definitions===void 0)return[];let{references:f}=a,T=t.getText(i);return n.push(...f.filter(l=>l.name===T).map(l=>({range:l.position,uri:r}))),n}function Yc({params:t}){let e=ei(),n=_t.get(t.textDocument.uri);if(n?.definitions===void 0)return e;let{definitions:r}=n,i=ti();e.push(...i),e.push(...r.map(l=>bs(l)).filter((l,p,y)=>p===y.findIndex(C=>C.label===l.label)));let T=dt.getAllUris().filter(l=>l!==t.textDocument.uri).map(l=>_t.get(l)).filter(l=>l!==void 0).flatMap(l=>l.definitions).filter(l=>l.context==="0").map(l=>bs(l));return e.push(...T),e}async function Jc({params:t,documents:e}){let n=t.textDocument.uri,r=t.position,i=e.get(n);if(!i)return null;let a=ni(i,r);if(!a)return null;let f=i.getText(a),T=[],p=_t.get(n)?.definitions;return p&&T.push(...p.filter(C=>C.name===f).map(C=>({range:C.position,uri:n}))),dt.getAllUris().filter(C=>C!==t.textDocument.uri).forEach(C=>{_t.get(C)?.definitions.filter(R=>R.context==="0").filter(R=>R.name===f).forEach(R=>{T.push({uri:C,range:R.position})})}),T.length>0?T:null}var Qc=["function","if","for","while","switch","do"],Zc=["until","endfunction","endif","endfor","endwhile","endswitch","end"];var Bh={NL:`
`,EOF:"\0",AT:"@",COLON:":",COMMA:",",EQUALS:"=",GRATER_THAN:">",LESS_THAN:"<",AND:"&",OR:"|",EXCLAMATION:"!",SUBTRACTION:"-",ADDITION:"+",MULTIPLICATION:"*",DIVISION:"/",MODULUS:"%",EXPONENTIATION:"^",PERIOD:".",SEMICOLON:";",LBRACKET:"[",RBRACKET:"]",LSQUIRLY:"{",RSQUIRLY:"}",LPARENT:"(",RPARENT:")"};function eu(t){for(let[e,n]of Object.entries(Bh))if(n===t)return{content:e==="EOF"?"eof":t,type:e,position:null}}var Ae=5e3,si=class{constructor(e){this.tokens=e;this.currentTokenIndex=0;this.statements=[];this.errors=[];this.warnings=[];this.contextDepth=["0"];this.parsingStatement=!1;this.parsingStatementType=null;this.counter=0}clearLintingMessages(){this.errors=[],this.warnings=[]}getCurrentContext(){return this.contextDepth[this.contextDepth.length-1]}getIntoNewContext(){let e=this.getCurrentContext(),n=zc();return this.contextDepth.push(n),[e,n]}getBackOfContext(){let e=this.getCurrentContext(),n=this.contextDepth.pop();if(n===void 0)throw new Error("Expected newContext to be defined");return[e,n]}getCurrentToken(){return this.tokens[this.currentTokenIndex]}getNextToken(){if(!(this.currentTokenIndex>=this.tokens.length-1))return this.currentTokenIndex++,this.getCurrentToken()}getPrevToken(){if(!(this.currentTokenIndex<=0))return this.currentTokenIndex--,this.getCurrentToken()}parseStatement(){for(;this.getCurrentToken().type==="COMMENT"||this.getCurrentToken().type==="NL";)this.getNextToken();let e=this.getCurrentToken(),n=this.getNextToken();if(n===void 0)return null;if(this.parsingStatement&&this.parsingStatementType==="if"&&(e.content==="elseif"||e.content==="else")){if(e.content==="elseif"){if(n.type==="NL")return this.errors.push({message:"Missing condition",code:de.MISSING_CONDITION_ELSEIF,range:this.getCurrentPosition(e)}),null;let r=0;do this.skipNL(!0);while(r<Ae&&this.getCurrentToken().type!=="RPARENT");this.logErrorMaxCallsReached(r,"Missing ')' in 'elseif'",de.COULD_NOT_FIND_RPAREN_STMNT,e),this.getNextToken()}return null}if(typeof e.content=="string"&&Zc.includes(e.content)||e.type==="EOF")return this.parsingStatement?(this.getPrevToken(),null):(this.errors.push({message:`Unexpected ending of statement '${e.content}'`,code:de.UNEXPECTED_END_OF_STMNT,range:{start:this.getCurrentPosition(e).start,end:this.getCurrentPosition(n).start}}),null);if((e.type==="IDENTIFIER"||e.type==="NATIVE_FUNCTION")&&n.type==="LPARENT"){this.getPrevToken();let r=this.getCurrentPosition();this.getNextToken();let i=this.getFunctionArguments();return this.getNextToken(),{type:"FUNCTION_CALL",supressOutput:this.isOutputSupressed(),context:this.getCurrentContext(),LHE:{type:"IDENTIFIER",value:e.content,position:r,functionData:{args:i}}}}else if(e.type==="IDENTIFIER"&&n.type==="EQUALS"){this.getNextToken();let r=this.parseExpression(),i=this.isOutputSupressed();return{type:"ASSIGNMENT",operator:n.content,supressOutput:i,context:this.getCurrentContext(),LHE:{type:"IDENTIFIER",value:e.content,position:this.getCurrentPosition(e)},RHE:r}}else if(e.type==="LBRACKET"){let[r,i]=this.getVectorArgs();if(i==="COMMA"&&r.every(a=>a.type==="IDENTIFIER")&&this.getCurrentToken().type==="EQUALS"){if(this.getCurrentToken().type!=="EQUALS")return this.errors.push({message:`Unexpected token ${this.stringifyTokenContent()}`,range:this.getCurrentPosition(),code:de.OUTPUT_VECTOR}),null;let a=this.getNextToken();if(a===void 0)throw new Error("Unexpected undefined token. Code 50");if(a.type!=="IDENTIFIER"&&a.type!=="KEYWORD")return this.errors.push({message:`Expected a function call. Got ${this.stringifyTokenContent()}`,range:this.getCurrentPosition(),code:de.EXPECTED_FN_IDENT}),null;this.getNextToken();let f=this.getFunctionArguments();return this.validateFnCallArgs(f),this.getNextToken(),{type:"MO_ASSIGNMENT",operator:"=",supressOutput:this.isOutputSupressed(),context:this.getCurrentContext(),LHE:{type:"VARIABLE_VECTOR",value:r},RHE:{type:"FUNCTION_CALL",position:this.getCurrentPosition(a),value:a.content,functionData:{args:f}}}}return null}else if(e.type==="KEYWORD"&&e.content==="function"){let r=this.getCurrentToken(),i=this.getNextToken();if(this.getPrevToken(),this.getPrevToken(),i===void 0)throw new Error("Unexpected undefined token. Code 60");return r.type==="IDENTIFIER"&&i.type==="EQUALS"?this.getFunctionDefintionWithOutput(!0):r.type==="LBRACKET"?this.getFunctionDefintionWithOutput(!1):this.getFunctionDefintionWithoutOutput()}else{if(e.type==="IDENTIFIER"&&n.type==="NL")return{type:"REFERENCE_CALL_VAR_FUNC",LHE:{type:"REFERENCE_CALL_VAR_FUNC",position:this.getCurrentPosition(e),value:e.content},supressOutput:!1,context:this.getCurrentContext()};if(e.type==="IDENTIFIER"&&(n.type==="EOF"||this.isTokenValidBasicDataType(n))){let r=0,i=[];for(;this.getCurrentToken().type!=="NL"&&this.getCurrentToken().type!=="EOF"&&this.isTokenValidBasicDataType(this.getCurrentToken(),!1)&&r<Ae;){let f=this.getNextToken();if(r++,f===void 0)throw new Error(`Unexpected undefined token. Error code ${de.UNEXPECTED_UNDEFINED_TOKEN}`);if(this.isTokenValidBasicDataType(f,!1))i.push(f);else if(f.type==="LBRACKET"){let T=this.getVector();i.push(T)}}this.logErrorMaxCallsReached(r,"Could not parse function call",de.FN_CALL_EXCEEDED_CALLS);let a=this.isOutputSupressed();return{type:"FUNCTION_CALL",context:this.getCurrentContext(),supressOutput:a,LHE:{type:"FUNCTION_CALL",position:this.getCurrentPosition(e),value:e.content,functionData:{args:i}}}}else{if(e.type==="KEYWORD"&&typeof e.content=="string"&&Qc.includes(e.content))return this.parseBasicStatements(e.content);if(e===void 0)throw new Error("Unexpected undefined token. Code 70");return this.errors.push({message:`Unexpected token. Got: "${this.stringifyTokenContent(e)}"`,range:e?.position??{start:{line:0,character:0},end:{line:0,character:0}},code:24}),null}}return null}parseBasicStatements(e){let n=this.getPrevToken(),r=n.position,i=this.getNextToken(),a=e==="do"?"until":`end${e}`;this.parsingStatement=!0,this.parsingStatementType=e,i?.type==="NL"&&this.errors.push({message:"Missing condition",code:de.MISSING_CONDITION_ELSEIF,range:this.getCurrentPosition(n)});let f;if(i?.type==="LPARENT"){f=this.skipNL(!0);let R=0;for(;f!==void 0&&f.type!=="RPARENT"&&R<Ae;)R++,f=this.skipNL(!0);if(this.logErrorMaxCallsReached(R,'Missing ")"',de.COULD_NOT_FIND_RPAREN_STMNT,n))return this.parsingStatement=!1,this.parsingStatementType=null,null;this.getNextToken()}else{f=i;let R=0;for(;f!==void 0&&f.type!=="NL"&&R<Ae;)f=this.getNextToken(),R++;if(this.logErrorMaxCallsReached(R,"Uncompleted statement",9999,n))return this.parsingStatement=!1,this.parsingStatementType=null,null;this.getNextToken()}if(f===void 0)return this.errors.push({message:"Could not parse statement, undefined Token",range:this.getCurrentPosition(this.getPrevToken()),code:de.PARSE_ERR_STMNT}),this.parsingStatement=!1,this.parsingStatementType=null,null;let T=[],l=0;for(;!this.isEndStatementToken(a)&&!this.isEOF()&&l<Ae;){let R=this.parseStatement();R!==null&&T.push(R),l++}if(this.logErrorMaxCallsReached(this.getCurrentToken().type==="EOF"?Ae:l,`Could not find closing keyword 'end' or '${a}'`,de.MISSING_END_STMNT,n))return this.parsingStatement=!1,this.parsingStatementType=null,null;let p=this.getIntoNewContext()[1],y={...r,end:this.getCurrentPosition().start};this.skipNL(!0);let C;switch(e){case"if":C="IF_STMNT";break;case"for":C="FOR_STMNT";break;case"while":C="WHILE_STMNT";break;case"switch":C="SWITCH_STMNT";break;case"do":C="DO_STMNT";break;default:throw new Error("Could not parse statement")}return this.parsingStatement=!1,this.parsingStatementType=null,{type:C,supressOutput:!0,context:p,LHE:{type:C,value:e,position:y},RHE:T}}getCurrentContent(){return JSON.stringify(this.getCurrentToken().content)}isEndStatementToken(e,n){return n!==void 0?n.content==="end"||n.content===e:this.getCurrentToken().content==="end"||this.getCurrentToken().content===e}parseStruct(){let e=[],n=this.getCurrentToken().position?.start??bt.start,r=0;do{let i=this.skipNL(!0);if(i!==void 0&&this.isValidStructType(i))e.push(i);else return null;let a=this.skipNL(!0);(a===void 0||a.type!=="COMMA"&&a.type!=="RSQUIRLY")&&this.errors.push({message:`Unexpected struct value. Got "${a?.type??"UNDEFINED"}". Code ${de.STRUCT_BAD_COMMA.toString()}`,code:de.STRUCT_BAD_ARGS,range:this.getCurrentPosition()}),r++}while(this.getCurrentToken().type!=="RSQUIRLY"&&this.getCurrentToken().type!=="EOF"&&this.currentTokenIndex<this.tokens.length&&r<Ae);return this.getNextToken(),{type:"STRUCT",content:e,position:{start:n,end:this.getCurrentPosition().end}}}isValidStructType(e){return!this.isTokenValidBasicDataType(e)&&e.type!=="VECTOR"&&e.type!=="STRUCT"?(this.errors.push({message:`Unexpected struct value. Got "${e.type}". Code ${de.STRUCT_BAD_ARGS.toString()}`,code:de.STRUCT_BAD_ARGS,range:this.getCurrentPosition()}),!1):!0}validateFnCallArgs(e){for(let n of e)n.type==="DEFAULT_VALUE_ARGUMENT"&&this.errors.push({message:"Unexpected default value argument in function call",range:this.getCurrentPosition(n),code:23})}getVectorArgs(){let e=[];if(this.getCurrentToken().type==="LBRACKET"&&this.getNextToken(),this.getCurrentToken().type==="RBRACKET")return this.getNextToken(),[[],"COMMA"];this.getCurrentToken().type==="LBRACKET"?(e.push(this.getVector()),this.getPrevToken()):this.isTokenValidBasicDataType(this.getCurrentToken())&&e.push(this.getCurrentToken());let n=this.getNextToken()?.type==="COMMA";return n?e.push(...this.getVectorValuesCommaSeparated()):e.push(...this.getVectorValuesColonSeparated()),this.getNextToken(),[e,n?"COMMA":"COLON"]}getVectorValuesColonSeparated(){let e=[];for(;this.getCurrentToken().type==="COLON"&&e.length<2;){let n=this.getNextToken();if(n===void 0)throw new Error("Unexpected undefined token. Code 80");n.type==="LBRACKET"?(e.push(this.getVector(n)),this.getPrevToken()):this.isTokenValidBasicDataType(n)&&e.push(n),this.getNextToken()}return this.getCurrentToken().type!=="RBRACKET"&&this.errors.push({message:"Unexpected vector value",range:this.getCurrentPosition(),code:22}),e}getVector(e){let[n]=this.getVectorArgs(),r=e??this.getCurrentToken();if(r===void 0)throw new Error("Unexpected undefined token. Code 130");let i=this.getCurrentPosition(r);return{type:"VECTOR",content:n,position:{start:i.start,end:n[n.length-1]?.position?.end??i.end}}}getVectorValuesCommaSeparated(){let e=[];for(;this.getCurrentToken().type==="COMMA";){let n=this.getNextToken();if(n===void 0)throw new Error("Unexpected undefined token. Code 120");if(n.type==="LBRACKET")e.push(this.getVector(n)),this.getPrevToken();else if(this.isTokenValidBasicDataType(n))e.push(n);else break;this.getNextToken()}return this.getCurrentToken().type!=="RBRACKET"&&this.errors.push({message:"Unexpected vector value",range:this.getCurrentPosition(),code:21}),e}getFunctionDefintionWithOutput(e){this.parsingStatement=!0;let[n,r]=this.getIntoNewContext(),i=this.getFunctionDefinitionDescription(!0),a,f=[];e?(a=this.getNextToken(),this.getNextToken()):(this.getNextToken(),this.getNextToken(),f.push(...this.getVariableVector()));let T=this.getNextToken();if(T===void 0)throw new Error("Unexpected undefined token. Code 110");if(T.type!=="IDENTIFIER")return this.errors.push({message:`Expected IDENTIFIER. Got: ${this.stringifyTokenContent(T)}`,range:this.getCurrentPosition(),code:20}),null;this.getNextToken();let l=this.getFunctionArguments();this.checkValidFunctionDefinitionArguments(l),i===""&&(i=this.getFunctionDefinitionDescription(!1)),this.getNextToken();let p=[],y=0;for(;!this.isEndFunctionToken()&&!this.isEOF()&&y<Ae;){let k=this.parseStatement();k!==null&&p.push(k),y++}this.logErrorMaxCallsReached(y,"Could not find closing keyword 'end'",de.FN_DEF_MISSING_END);let C=this.getCurrentToken();if(C.type==="EOF")return this.errors.push({message:"Expected closing function 'end' or 'endfunction'",range:{start:this.getCurrentPosition(T).start,end:this.getCurrentPosition(T).end},code:19}),null;this.getNextToken(),this.getBackOfContext();let R={type:"FUNCTION_DEFINITION",value:"function",LHO:{type:"IDENTIFIER",value:T.content,position:this.getCurrentPosition(T),functionData:{args:l,description:i,closingToken:C,contextCreated:r}},RHO:p};return{type:"ASSIGNMENT",supressOutput:!0,context:n,LHE:{type:e?"IDENTIFIER":"VARIABLE_VECTOR",value:e&&a!==void 0?a.content:f,position:e&&a!==void 0?this.getCurrentPosition(a):void 0},RHE:R}}checkValidFunctionDefinitionArguments(e){let n=!0;return e.forEach(r=>{r.type==="IDENTIFIER"||r.type==="DEFAULT_VALUE_ARGUMENT"||(n=!1,this.errors.push({message:"Invalid function definition argument. ",range:this.getCurrentPosition(r),code:200}))}),n}getFunctionDefintionWithoutOutput(){this.parsingStatement=!0;let[e,n]=this.getIntoNewContext(),r=this.getFunctionDefinitionDescription(!0),i=this.getNextToken();if(i===void 0)throw new Error("Unexpected undefined token. Code 100");if(i.type!=="IDENTIFIER")return this.errors.push({message:`Expected IDENTIFIER. Got: ${this.stringifyTokenContent(i)}`,range:this.getCurrentPosition(),code:18}),null;this.getNextToken();let a=this.getFunctionArguments();this.checkValidFunctionDefinitionArguments(a),this.getNextToken(),r===""&&(this.getPrevToken(),r=this.getFunctionDefinitionDescription(!1),this.getNextToken());let f=[],T=0;for(;!this.isEndFunctionToken()&&!this.isEOF()&&T<Ae;){let p=this.parseStatement();p!==null&&f.push(p),T++}T>=Ae&&this.errors.push({message:"Max calls for statements in a function definition",range:this.getCurrentPosition(),code:16});let l=this.getCurrentToken();return l.type==="EOF"?(this.errors.push({message:"Expected closing function 'end' or 'endfunction'",range:{start:this.getCurrentPosition(i).start,end:this.getCurrentPosition(i).end},code:17}),null):(this.getNextToken(),this.getBackOfContext(),{type:"FUNCTION_DEFINITION",supressOutput:!0,context:e,LHE:{type:"IDENTIFIER",value:i.content,position:this.getCurrentPosition(i),functionData:{args:a,description:r,closingToken:l,contextCreated:n}},RHE:f})}getFunctionDefinitionDescription(e){let n=[],r=this.currentTokenIndex;if(e){let a=0;do{if(a++,this.currentTokenIndex===0)break;let f=this.getPrevTokenSkipNL();f?.type==="COMMENT"&&n.push(f)}while(this.getCurrentToken().type==="COMMENT"&&a<=Ae);this.logErrorMaxCallsReached(a,"Iterations exceeded trying to find function comments",de.MAX_ITERATION_COMMENTS_BEFORE),n.reverse()}else{let a=0;do{a++;let f=this.skipNL(!0);f.type==="COMMENT"&&n.push(f)}while(this.getCurrentToken().type==="COMMENT"&&a<=Ae);this.logErrorMaxCallsReached(a,"Iterations exceeded trying to find function comments",de.MAX_ITERATION_COMMENTS_AFTER)}return this.currentTokenIndex=r,n.map(a=>a.content).join(`
`)}getPrevTokenSkipNL(){let e,n=0;do e=this.getPrevToken(),n++;while(e?.type==="NL"&&n<Ae);return this.logErrorMaxCallsReached(n,"Max statement parsing reached while parsing comment",de.MAX_ITERATION_PARSING_COMMENT_BEFORE),e}isOutputSupressed(){let e=this.getCurrentToken().type==="SEMICOLON";return e?(this.getNextToken(),e):(this.warnings.push({message:"Will output to the console",range:this.getCurrentPosition(this.getPrevToken()),code:15}),this.getNextToken(),!1)}getVariableVector(){let e=[];do{if(this.getCurrentToken().type!=="IDENTIFIER")return[];e.push(this.getCurrentToken());let n=this.getNextToken()?.type;if(n===void 0)throw new Error("Unexpected undefined token. Code 30");if(n!=="COMMA"&&n!=="RBRACKET")return this.errors.push({message:`Expected COMMA. Got: '${this.stringifyTokenContent(this.getCurrentToken())}'`,range:this.getCurrentPosition(),code:14}),e;if(this.getNextToken(),n==="RBRACKET")break}while(e[e.length-1].type!=="RBRACKET"&&this.currentTokenIndex<this.tokens.length);return e}parseExpression(){let e=this.getCurrentToken(),n,r=!0;switch(e.type){case"STRING":case"VECTOR":r=!1,n={type:e.type,value:e.content};break;case"NUMBER":n={type:e.type,value:e.content};break;case"IDENTIFIER":n=this.parseFunctionCall(),this.getPrevToken();break;case"AT":{this.getNextToken();let a=this.getFunctionArguments();this.validateFnCallArgs(a),this.getNextToken();let f=this.parseExpression();return{type:"ANONYMOUS_FUNCTION_DEFINITION",value:"@",position:this.getCurrentPosition(e),functionData:{args:a},RHO:f}}case"LPARENT":if(this.getNextToken(),n=this.parseExpression(),this.getCurrentToken().type!=="RPARENT"){this.errors.push({message:"Expected closing parenthesis ')'",range:this.getCurrentPosition(),code:13});return}break;case"LBRACKET":return{type:"VARIABLE_VECTOR",value:this.getVectorArgs()[0]};case"LSQUIRLY":{let a=this.parseStruct();return a===null?void 0:{type:"STRUCT",value:a?.content}}case"NL":this.errors.push({message:"Unexpected new line in expression.",range:this.getCurrentPosition(),code:de.UNEXPECTED_NL});return;default:this.errors.push({message:`Unexpected token. ${this.stringifyTokenContent(e)}`,range:this.getCurrentPosition(),code:12});return}let i=this.getNextToken();if(i===void 0)throw new Error("Unexpected undefined token. Code 40");return r&&this.isBinaryOperator(i.type)?(this.getNextToken(),{type:"BINARY_OPERATION",value:i?.content??"",RHO:this.parseExpression(),LHO:n}):n}isTokenValidBasicDataType(e,n){let r=e.type==="IDENTIFIER"||e.type==="NUMBER"||e.type==="STRING";return!r&&(n===void 0||n===!0)&&this.errors.push({message:`Expected a valid data type. Got '${this.stringifyTokenContent()}'`,range:this.getCurrentPosition(),code:11}),r}parseFunctionCall(){let e=this.getCurrentToken();if(this.getNextToken()?.type==="LPARENT"){let n=this.getFunctionArguments();return this.validateFnCallArgs(n),this.getNextToken(),{type:"FUNCTION_CALL",value:e.content,position:this.getCurrentPosition(e),functionData:{args:n}}}else return{type:e.type,value:e.content,position:this.getCurrentPosition(e)}}getFunctionArguments(){let e=[];if(this.getCurrentToken().type!=="LPARENT")return this.errors.push({message:`Expected '(' for function call. Got: ${this.getCurrentToken().type}`,range:this.getCurrentPosition(),code:10}),e;do{let n=this.skipNL(!0),r=this.skipNL(!0);if(this.getPrevToken(),n.type==="IDENTIFIER"&&r.type==="EQUALS"){this.getNextToken();let a=this.skipNL(!0);this.isTokenDataType(a)||this.errors.push({message:`Expected a valid default value. Got ${this.stringifyTokenContent(a)}`,range:this.getCurrentPosition(a),code:9}),e.push({type:"DEFAULT_VALUE_ARGUMENT",content:n.content,position:n.position,defaultValue:a}),this.getNextToken(),n=null}else if(n.type==="IDENTIFIER"){if(this.skipNL(!0).type==="LPARENT"){let a=this.getFunctionArguments();this.validateFnCallArgs(a)}}else{if(n.type==="RPARENT")return e;if(n.type==="LBRACKET")e.push(this.getVector(n)),n=null;else if(n.type==="LSQUIRLY"){let a=this.parseStruct();if(n=null,a===null)return e;e.push(a)}else if(this.isTokenValidBasicDataType(n))this.getNextToken();else return this.errors.push({message:`Expected valid argument. Got ${this.stringifyTokenContent(n)}`,range:this.getCurrentPosition(),code:8}),e}n!==null&&e.push(n);let i=this.skipNL();if(i.type!=="COMMA"&&i.type!=="RPARENT")return this.errors.push({message:`Expected ',' or ')'. Got '${i.type}'`,range:this.getCurrentPosition(),code:de.EXPECTED_COMMA_PAREN}),e}while(this.getCurrentToken().type!=="RPARENT"&&this.getCurrentToken().type!=="EOF");return this.getCurrentToken().type==="EOF"&&this.errors.push({message:"Expected closing parenthesis ')' for function call",range:this.getCurrentPosition(),code:de.MISSING_PAREN}),e}stringifyTokenContent(e){return e===void 0&&(e=this.getCurrentToken()),Array.isArray(e.content)?`[${e.content.map(n=>n.content).join(", ")}]`:e.content}skipNL(e=!1){let n=0,r=this.getCurrentToken();for(e&&(r=this.getNextToken());this.getCurrentToken().type==="NL"&&n<=Ae;)r=this.getNextToken(),n++;if(this.logErrorMaxCallsReached(n,"Found too many new lines",de.TOO_MANY_NL),r===void 0)throw new Error("EOF was never found");return r}isBinaryOperator(e){return e==="SUBTRACTION"||e==="DIVISION"||e==="ADDITION"||e==="MULTIPLICATION"}isEOF(e){return e!=null?e.type==="EOF":this.getCurrentToken().type==="EOF"}isEndFunctionToken(e){return e!=null?e.type==="KEYWORD"&&(e.content==="end"||e.content==="endfunction"):this.getCurrentToken().type==="KEYWORD"&&(this.getCurrentToken().content==="end"||this.getCurrentToken().content==="endfunction")}isTokenDataType(e){return e!=null?e.type==="IDENTIFIER"||e.type==="VECTOR"||e.type==="STRING"||e.type==="NUMBER"||e.type==="STRUCT":this.getCurrentToken().type==="IDENTIFIER"||this.getCurrentToken().type==="VECTOR"||this.getCurrentToken().type==="STRING"||this.getCurrentToken().type==="STRUCT"||this.getCurrentToken().type==="NUMBER"}logErrorMaxCallsReached(e,n,r,i){return e>=Ae?(this.errors.push({message:n,range:this.getCurrentPosition(i),code:r}),!0):!1}getStatements(){return this.statements}makeAST(){if(this.tokens.length<4)return{type:"Program",body:this.statements};let e=0;do{let n=this.parseStatement();n!==null&&this.statements.push(n),e++}while(this.getCurrentToken().type!=="EOF"&&e<Ae);return e>=Ae&&this.errors.push({message:"Maximum amount of statements reached.",range:this.getCurrentPosition(),code:de.AST_MAX_STMNT_REACHED}),{type:"Program",body:this.statements}}getCurrentPosition(e){return e===void 0&&this.getCurrentToken()!==void 0?this.getCurrentToken().position:e===void 0&&this.getCurrentToken()===void 0?bt:e?.position!==null&&e?.position!==void 0?e.position:bt}getErrors(){return this.errors.forEach(e=>{if(e?.range===void 0)throw new Error("Unexpected undefined Range. "+JSON.stringify(e))}),this.errors}getWarnings(){return this.warnings}};var tu=1e4,ai=class{constructor(e=""){this.currPos=0;this.nextPos=0;this.tokens=[];this.keywords=Ic();this.nativeFunctions=ri();this.text=e,this.readChar()}setInitialConditions(){this.currPos=0,this.nextPos=0,this.currChar="",this.nextChar="",this.tokens.length=0}updateText(e){this.text=e,this.setInitialConditions(),this.readChar()}getAllTokens(){let e=[],n=0;do e.push(this.getNextToken()),n++;while(e[e.length-1].type!=="EOF"&&n<=tu);if(n>=tu)throw new Error("Tokens calls exeeded. "+JSON.stringify(this.text)+" -> "+JSON.stringify(this.tokens.map(r=>r.type)));return e}getNextToken(){for(;this.currChar===" ";)this.readChar();let e=eu(this.currChar);if(e!==void 0&&this.isValidStartingToken(e))return this.readChar(),this.addToken({...e,position:this.getPositionAfterCursor(e.type!=="EOF"?e.content:"")});if(this.currChar==="#"||this.currChar==="%"){let n=this.readComment();return this.addToken({type:"COMMENT",content:n,position:this.getPositionAfterCursor(n)})}else if(qc(this.currChar)){let n=this.readLiteral();return this.addToken({...this.tokenFromLiteral(n),position:this.getPositionAfterCursor(n)})}else if(Mc(this.currChar)){let n=this.readNumber();return this.addToken({type:"NUMBER",content:n,position:this.getPositionAfterCursor(n)})}else if(this.currChar==='"'||this.currChar==="'"){let n=this.readLiteralString();return this.addToken({type:"STRING",content:n,position:this.getPositionAfterCursor(n)})}else return this.readChar(),this.addToken({type:"ILLEGAL",content:"illegal",position:this.getPositionAfterCursor(this.currChar)})}getPositionAfterCursor(e){let n=this.currPos-e.length,r=this.currPos;this.currPos=n;let[i,a]=this.getRowsColsCursor(),[f,T]=this.getRowsColsCursor(e),l={start:{line:i,character:a},end:{line:f,character:T}};return this.currPos=r,l}isValidStartingToken(e){if(e.type!=="MODULUS")return!0;let n=this.tokens[this.tokens.length-1];return n!==void 0&&(n.type==="IDENTIFIER"||n.type==="NUMBER")}readComment(){let e="";do e+=this.currChar,this.readChar();while(this.currChar!==`
`&&this.currPos<this.text.length);return e}addToken(e){return this.tokens.push(e),e}tokenFromLiteral(e){return this.keywords.includes(e)?{type:"KEYWORD",content:e,position:this.getPosition(e)}:this.nativeFunctions.includes(e)?{type:"NATIVE_FUNCTION",content:e,position:this.getPosition(e)}:{type:"IDENTIFIER",content:e,position:this.getPosition(e)}}getPosition(e){let[n,r]=this.getRowsColsCursor(),[i,a]=this.getRowsColsCursor(e);return{start:{line:n,character:r},end:{line:i,character:a}}}getRowsColsCursor(e=null){let n=e!==null?this.currPos+e.length+1:this.currPos;return Bc({text:this.text,characterPosition:n})}readChar(){if(this.currPos>=this.text.length||this.text.length<=3){this.currChar="\0",this.nextChar="\0";return}this.nextPos===0?(this.currChar=this.text[0],this.nextChar=this.text[1],this.currPos=1,this.nextPos=2):this.nextPos>=this.text.length?(this.currChar=this.nextChar,this.nextChar="\0",this.currPos=this.nextPos):(this.currChar=this.nextChar,this.nextChar=this.text[this.nextPos],this.currPos=this.nextPos,this.nextPos++)}readLiteral(){let e="";for(;/[a-zA-Z0-9_]/.test(this.currChar)&&this.currPos<=this.text.length;)e+=this.currChar,this.readChar();return e}readNumber(){let e="";for(;/\d/.test(this.currChar)||/\.\d/.test(this.currChar+this.nextChar)||/e\d/.test(this.currChar+this.nextChar)||/e[++-]/.test(this.currChar+this.nextChar)||/-\d/.test(this.currChar+this.nextChar);)e+=this.currChar,this.readChar();return e}readLiteralString(){let e=this.currChar;do this.readChar(),e+=this.currChar;while(this.currChar!=='"'&&this.currChar!=="'"&&this.currChar!==`
`&&this.currPos<this.text.length);return this.readChar(),e}};var ci=class{constructor(){this.references=[];this.definitions=[];this.errors=[]}visitProgram(e){for(let n of e.body)this.visitStatement(n);this.finishHook()}getErrors(){return this.errors}visitStatement(e){if(e!=null)switch(e.type){case"ASSIGNMENT":if(e.LHE===void 0)return;e.LHE.type==="FUNCTION_DEFINITION"?this.visitExpression(e.LHE,"ASSIGNMENT",e.context):(this.visitExpression(e.LHE,"ASSIGNMENT",e.context),this.visitExpression(e.RHE,"ASSIGNMENT",e.context,!1));break;case"FUNCTION_DEFINITION":if(e.LHE===void 0)return;this.visitExpression(e.LHE,"FUNCTION_DEFINITION",e.context),(e?.RHE).forEach(n=>{this.visitStatement(n)});break;case"MO_ASSIGNMENT":if(e.LHE===void 0)return;this.visitExpression(e.LHE,"MO_ASSIGNMENT",e.context),this.visitExpression(e.RHE,"MO_ASSIGNMENT",e.context,!1);break;case"FUNCTION_CALL":if(e?.LHE===void 0)return;this.visitExpression(e.LHE,"FUNCTION_CALL",e.context);break;case"REFERENCE_CALL_VAR_FUNC":if(e?.LHE===void 0)return;this.visitExpression(e.LHE,"REFERENCE_CALL_VAR_FUNC",e.context);break;case"IF_STMNT":case"DO_STMNT":case"SWITCH_STMNT":case"FOR_STMNT":case"WHILE_STMNT":(e?.RHE).forEach(n=>{this.visitStatement(n)});break}}visitExpression(e,n,r,i=!0){if(e!=null)switch(e.type){case"IDENTIFIER":if((n==="ASSIGNMENT"||n==="FUNCTION_DEFINITION")&&i){let a=n==="FUNCTION_DEFINITION"?this.getNodeFunctionArgs(e).map(f=>{if(f.type!=="IDENTIFIER"&&f.type!=="DEFAULT_VALUE_ARGUMENT")return null;let T=f.type==="DEFAULT_VALUE_ARGUMENT"?"DEFAULT_ARGUMENT":"ARGUMENT",l=f.type==="DEFAULT_VALUE_ARGUMENT"?this.getDefaultValueContent(f):"",p=this.getTokenPosition(f),y={name:f.content,type:T,content:l,position:p,documentation:"",context:r};return this.definitions.push(y),y}).filter(f=>f!==null):[];this.definitions.push({name:e.value,position:e.position??bt,type:n==="ASSIGNMENT"?"VARIABLE":"FUNCTION",documentation:this.getDocumentationOrLineDefinition(e),arguments:a,context:r}),this.references.push({name:e.value,position:this.getExpressionPosition(e),type:n==="ASSIGNMENT"?"VARIABLE":"FUNCTION",documentation:e?.functionData?.description??""})}else n==="FUNCTION_CALL"?this.references.push({name:e.value,position:this.getExpressionPosition(e),type:"FUNCTION",documentation:e?.functionData?.description??"",args:this.getArgumentIdentifiersList(e).map(a=>typeof a.content=="string"?a.content:null).filter(a=>a!==null)}):this.references.push({name:e.value,position:this.getExpressionPosition(e),type:"VARIABLE",documentation:e?.functionData?.description??""});if(e?.functionData?.args!==void 0){let f=this.getArgumentIdentifiersList(e).map(T=>({name:T.content,position:this.getTokenPosition(T),type:"VARIABLE",documentation:this.getDocumentationOrLineDefinition(e)}));this.references.push(...f)}e?.RHO!==null&&Array.isArray(e.RHO)&&e.RHO.forEach(a=>{this.visitStatement(a)});break;case"BINARY_OPERATION":if(e?.LHO===void 0)return;this.visitExpression(e.LHO,null,r),this.visitExpression(e.RHO,null,r,!1);break;case"FUNCTION_DEFINITION":if(e?.LHO===void 0)return;this.visitExpression(e.LHO,"FUNCTION_DEFINITION",e.LHO.functionData?.contextCreated??""),Array.isArray(e.RHO)&&e.RHO.forEach(a=>{this.visitStatement(a)});break;case"KEYWORD":if(e?.LHO===void 0)return;this.visitExpression(e.LHO,null,r),this.visitExpression(e.RHO,null,r,!1);break;case"ANONYMOUS_FUNCTION_DEFINITION":e?.LHO?.value!==void 0&&e?.LHO?.position!==void 0&&this.definitions.push({name:e.LHO.value,position:e.LHO.position,type:"ANONYMOUS_FUNCTION",documentation:this.getDocumentationOrLineDefinition(e),context:r,arguments:e?.functionData?.args?.map(a=>({context:e?.functionData?.contextCreated??"",name:a.content,type:"ARGUMENT",position:this.getTokenPosition(a),documentation:""}))??[]}),this.references.push(...e?.functionData?.args?.map(a=>({name:a.content,position:this.getExpressionPosition(e),type:this.getReferenceTypeFromNode(e),documentation:e?.functionData?.description??""}))??[]),this.visitExpression(e.RHO,null,r,!1);break;case"VARIABLE_VECTOR":if(!Array.isArray(e.value)||!(e?.value?.length>1))return;e?.value!==void 0&&Array.isArray(e.value)&&e.value.forEach(a=>{if(a.type==="VECTOR"){this.getTokenIdentifiers(a).forEach(f=>{this.references.push({name:f.content,type:"VARIABLE",position:this.getTokenPosition(f),documentation:""})});return}a.type==="IDENTIFIER"&&this.definitions.push({name:a.content,type:"VARIABLE",position:this.getTokenPosition(a),documentation:this.getDocumentationOrLineDefinition(e),context:r})}),e.value.forEach(a=>{a.type==="IDENTIFIER"&&this.references.push({name:a.content,position:this.getTokenPosition(a),type:"VARIABLE",documentation:e?.functionData?.description??""})});break;case"FUNCTION_CALL":if(this.references.push({name:e.value,position:this.getExpressionPosition(e),documentation:this.getDocumentationOrLineDefinition(e),type:"FUNCTION"}),e?.functionData?.args===void 0)break;this.references.push(...this.getArgumentIdentifiersList(e).map(a=>({name:a.content,position:this.getTokenPosition(a),type:"VARIABLE",documentation:this.getDocumentationOrLineDefinition(e)})));break;case"REFERENCE_CALL_VAR_FUNC":this.references.push({name:e.value,position:this.getExpressionPosition(e),documentation:this.getDocumentationOrLineDefinition(e),type:"VARIABLE"});break}}getArgumentIdentifiersList(e){return e?.functionData?.args===void 0?[]:e.functionData.args.flatMap(n=>this.getTokenIdentifiers(n))}getTokenIdentifiers(e){return e.type==="VECTOR"?e.content.flatMap(n=>this.getTokenIdentifiers(n)):e.type==="IDENTIFIER"||e.type==="DEFAULT_VALUE_ARGUMENT"?[e]:[]}getExpressionPosition(e){return e.position===void 0?bt:e.position}getTokenPosition(e){return e.position===null?bt:e.position}getDefaultValueContent(e){return e?.defaultValue?.content===void 0||Array.isArray(e?.defaultValue?.content)?"":e.defaultValue.content}getNodeFunctionArgs(e){return e?.functionData?.args===void 0?[]:e.functionData.args}getDocumentationOrLineDefinition(e){return e?.functionData?.description!==void 0?e?.functionData?.description:(e?.RHO===void 0||Array.isArray(e.RHO),"")}getReferenceTypeFromNode(e){return e.type==="FUNCTION_CALL"||e.type==="FUNCTION_DEFINITION"||e.type==="ANONYMOUS_FUNCTION_DEFINITION"?"FUNCTION":"VARIABLE"}finishHook(){let e=this.definitions.map(i=>i.name),n=ri(),r=this.references.map(i=>i.name);this.references.forEach(i=>{i.name==="addpath"&&Le.window.showInformationMessage(JSON.stringify(i.args))}),r.forEach((i,a)=>{n.includes(i)||e.includes(i)||this.errors.push({message:`Could not find reference '${i}'`,code:de.VISITOR_COULDNT_FIND_REF,range:this.references[a].position})})}};var nu=We(Zr());var ui=class{constructor(){this._documents=new Map}set(e,n){if(this._documents.has(e))return;let r=nu.TextDocument.create(e,"octave",0,n);this._documents.set(e,r),li(e,n)}get(e){return this._documents.get(e)}getAllDocuments(){return Array.from(this._documents,([e,n])=>n)}getAllUris(){return Array.from(this._documents,([e,n])=>e)}delete(e){this._documents.delete(e)}};var ou=require("fs"),su=We(ru()),Le=(0,Ut.createConnection)(Ut.ProposedFeatures.all),Ht=ys,dt=new ui,tn=new Ut.TextDocuments(iu.TextDocument),_t=new Map,Xn=new Map;tn.onDidChangeContent(t=>{li(t.document.uri,t.document.getText())});tn.onDidOpen(t=>{let e=t.document.getText(),n=t.document.uri;dt.set(n,e)});Le.onInitialize(t=>Gc({params:t,connection:Le}));Le.onInitialized(async t=>{await Kc({params:t,connection:Le})});Le.onDefinition(async t=>await Jc({params:t,documents:tn}));Le.onReferences(t=>{let e=t.textDocument.uri,n=tn.get(e);return n===void 0?[]:Xc(n,t.position)});Le.onDidChangeConfiguration(t=>{if(oi?Ht=t.settings.settings:Ht=ys,Ht.enableInitFile){let e=(0,ou.readFileSync)(Ht.defaultInitFile).toString(),n=su.URI.file(Ht.defaultInitFile).toString();dt.set(n,e)}});tn.onDidClose(t=>{let e=t.document.uri;dt.delete(e)});Le.onCompletion(t=>Yc({params:t}));Le.onCompletionResolve(t=>t);tn.listen(Le);Le.listen();Le.onExit(()=>{Xn.forEach(t=>{clearTimeout(t)}),Xn.clear()});function li(t,e){Xn.has(t)&&clearTimeout(Xn.get(t)),Xn.set(t,setTimeout(()=>{let n=dt.get(t),r=e??n?.getText();if(n==null)return;let a=new ai(r).getAllTokens(),f=new si(a),T=f.makeAST(),l=new ci,p=l.getErrors();l.visitProgram(T),_t.set(t,l);let y=f.getErrors().map(k=>Ts(k,"error")),C=f.getWarnings().map(k=>Ts(k,"warn")),R=[...y,...C,...p];if(R.length>Ht.maxNumberOfProblems){let k={range:{start:{line:0,character:0},end:{line:0,character:1}},message:"Maximum number of problems reached",severity:Ut.DiagnosticSeverity.Error,source:"mlang"};Le.sendDiagnostics({uri:t,diagnostics:[k]}).catch(x=>{throw new Error(x)})}else Le.sendDiagnostics({uri:t,diagnostics:R}).catch(k=>{throw new Error(k)})},Ht.defaultDebounceTimeMS))}0&&(module.exports={connection,docManager,documents,globalSettings,updateDocumentData,visitors});
